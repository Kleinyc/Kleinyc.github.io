<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>愚者之证</title>
    <link>https://github.com/Kleinyc/Kleinyc.github.io/</link>
    
    <atom:link href="https://github.com/Kleinyc/Kleinyc.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>长夜，不止有星辰，还有余火，一直在那。</description>
    <pubDate>Tue, 08 Aug 2023 16:00:50 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Number Generator</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2023/08/01/number/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2023/08/01/number/</guid>
      <pubDate>Tue, 01 Aug 2023 04:00:00 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h1 id=&quot;Number-Generator&quot;&gt;&lt;a href=&quot;#Number-Generator&quot; class=&quot;headerlink&quot; title=&quot;Number Generator&quot;&gt;&lt;/a&gt;Number Generator&lt;/h1&gt;&lt;h1&gt;User Story&lt;/h1&gt;
&lt;ul style=&quot;list-style-type: square;&quot;&gt;
&lt;li&gt;Currently our number generator will pull all data for a given project from database and iteratively calculate the max one. Meanwhile there is a very inefficient regular matching which is `number: { [Op.like]: `${codePrefixValue}%${codeSuffixValue}` },`&lt;/li&gt;
&lt;li&gt;Now we need add a coloum to split the number out into multi pieces:&amp;nbsp;
&lt;ul style=&quot;list-style-type: square;&quot;&gt;
&lt;li&gt;number&lt;/li&gt;
&lt;li&gt;prefix&lt;/li&gt;
&lt;li&gt;postfix&lt;/li&gt;
&lt;li&gt;isFreeModify&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Number Service module applies to Change Orders, Expenses.&lt;/li&gt;&lt;/ul&gt;
&lt;h1&gt;The number applies&lt;/h1&gt;
&lt;ul style=&quot;list-style-type: square;&quot;&gt;
&lt;li&gt;Change Orders&lt;/li&gt;
&lt;li&gt;Expenses&lt;/li&gt;&lt;/ul&gt;
&lt;h1&gt;The originnal method&lt;/h1&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h1 id="Number-Generator"><a href="#Number-Generator" class="headerlink" title="Number Generator"></a>Number Generator</h1><h1>User Story</h1><ul style="list-style-type: square;"><li>Currently our number generator will pull all data for a given project from database and iteratively calculate the max one. Meanwhile there is a very inefficient regular matching which is `number: { [Op.like]: `${codePrefixValue}%${codeSuffixValue}` },`</li><li>Now we need add a coloum to split the number out into multi pieces:&nbsp;<ul style="list-style-type: square;"><li>number</li><li>prefix</li><li>postfix</li><li>isFreeModify</li></ul></li><li>Number Service module applies to Change Orders, Expenses.</li></ul><h1>The number applies</h1><ul style="list-style-type: square;"><li>Change Orders</li><li>Expenses</li></ul><h1>The originnal method</h1><span id="more"></span><pre><code>const existingInstances = await dbModel.findAll(&#123;  where: &#123;    ...    number: &#123; [Op.like]: `$&#123;codePrefixValue&#125;%$&#123;codeSuffixValue&#125;` &#125;,    ...  &#125;,&#125;);const numberRegExp = `^$&#123;this.replaceSensitiveWords(codePrefixValue)&#125;(\\S+)$&#123;this.replaceSensitiveWords(  codeSuffixValue)&#125;`;existingInstances  .map((i) =&gt; i.number)  .forEach((number) =&gt; &#123;    const reg = new RegExp(numberRegExp);    const regResult = number.match(reg);    //only if the code is matched and is a number    if (regResult &amp;&amp; !Number.isNaN(Number(regResult[1]))) existingNumbers.push(Number(regResult[1]));  &#125;);</code></pre><p>db.findAll and RegExp will use too much time.</p><p><br></p><p><span style="color: rgb(0,0,0);font-size: 24.0px;letter-spacing: -0.01em;">Solutions</span></p><h2>Set a new property which datatype is JSONB</h2><pre><code>[splitNumber: &#123;        type: DataTypes.JSONB,        field: &#39;split_number&#39;,        defaultValue: &#123;&#125;,      &#125;eg:&#123;    prefix: &#39;bimcost&#39;,     number: 1001,     postfix: &#39;acs&#39;,    isFreeModify: false&#125;]]</code></pre><p><span style="color: rgb(0,0,0);font-size: 20.0px;letter-spacing: -0.008em;">Access<span style="color: rgb(55,65,81);">&nbsp;the performance</span></span></p><p>Approach 1: <code>getNumbers</code></p><ul><li>It retrieves all existing instances that match the criteria defined in the <code>where</code> clause.</li><li>It applies regular expression matching to extract the numeric portion of the number field.</li><li>It sorts the extracted numbers and finds the maximum value.</li><li>It generates a new set of numbers based on the maximum value and the provided length.</li></ul><p>Approach 2: <code>getSplitNumbers</code></p><ul><li>It retrieves the maximum number value from the existing instances using SQL aggregation.</li><li>It generates a new set of numbers based on the maximum value and the provided length.</li></ul><p>Performance considerations:</p><ol><li><p>Query Complexity:</p><ul><li>Approach 1 retrieves all existing instances that match the criteria, which could potentially involve fetching a large number of records.</li><li>Approach 2 retrieves only the maximum number value, which typically requires a simpler query.</li></ul></li><li><p>Data Processing:</p><ul><li>Approach 1 involves additional processing steps, such as applying regular expression matching and sorting the extracted numbers.</li><li>Approach 2 relies on SQL aggregation functions to calculate the maximum number value.</li></ul></li><li><p>Scalability:</p><ul><li>Approach 1 may face scalability challenges when dealing with a large number of existing records due to fetching and processing all instances.</li><li>Approach 2 is more optimized in terms of scalability since it focuses on retrieving the maximum value using a SQL aggregation function.</li></ul></li></ol><p><span style="color: rgb(55,65,81);">Based on these considerations, Approach 2 (</span><code>getSplitNumbers</code><span style="color: rgb(55,65,81);">) seems to be more efficient for performance and scalability.</span><span style="color: rgb(55,65,81);letter-spacing: 0.0px;">It retrieves only the required information and leverages the database's capabilities for aggregation. </span></p><h2>Performance Test</h2><p>Date: [2023-05-23]</p><h4>Introduction</h4><p>The purpose of this performance test analysis report is to provide an overview and analysis of the performance test results conducted on the expenses API using the old and new methods to create number. The test aimed to measure the response time of creating new expenses with varying data volumes.</p><h4>Test Environment</h4><ul><li>Server: [local service]</li><li>API Endpoint: [POST expenses]</li><li>Test Data Volume:<ul><li>1000 expenses</li><li>10000 expenses</li><li>100000 expenses</li></ul></li></ul><h4>Test Results</h4><p>The following table summarizes the response times observed during the performance tests:</p><table class="wrapped" style="text-align: left;"><thead><tr><th>Data Volume</th><th>Old Method Response Time (ms)</th><th>New Method Response Time (ms)</th></tr></thead><tbody><tr><td>1000</td><td>153</td><td>87</td></tr><tr><td>10000</td><td>304</td><td>121</td></tr><tr><td>100000</td><td>2504</td><td>166</td></tr></tbody></table><h4>Analysis and Observations</h4><ol><li><p>Response Time Comparison:</p><ul><li>For a data volume of 1000 expenses, the new method exhibited a significantly improved response time of 87ms compared to 153ms in the old method.</li><li>Similarly, with 10000 expenses, the new method demonstrated a response time of 121ms, while the old method took 304ms.</li><li>As the data volume increased to 100000 expenses, the new method maintained a relatively stable response time of 166ms, while the old method's response time significantly increased to 2504ms.</li><li>These results indicate that the new method performs more efficiently in terms of response time, especially as the data volume increases.</li></ul></li><li><p>Performance Improvement:</p><ul><li>The new method consistently outperforms the old method across all data volumes tested.</li><li>The improvements in response time achieved with the new method can potentially enhance the overall user experience, enabling faster creation of expenses.</li></ul></li><li><p>Scalability:</p><ul><li>The performance test results suggest that the new method exhibits better scalability characteristics as the data volume increases.</li><li>The old method experiences a significant increase in response time with larger data volumes, indicating potential limitations in handling higher loads.</li></ul></li></ol><h4>Conclusion</h4><p>Based on the performance test results, it can be concluded that the new method for creating expenses in the API has shown significant performance improvements over the old method. The new method consistently demonstrated faster response times, especially with larger data volumes. This indicates better scalability and potential benefits for users in terms of improved efficiency and productivity.</p><p>It is recommended to adopt the new method for creating expenses in the API to leverage the performance gains observed during the performance testing. Continuous monitoring and optimization can further enhance the API's performance and scalability.</p><p>Please note that these results are based on the specific test scenario and data volumes tested. Further performance testing and analysis may be required to evaluate the API's performance under different scenarios and workloads.</p><p>For any additional information or further analysis, please refer to the detailed performance test logs &rarr;&nbsp; <ac:link><ri:page ri:content-title="NumberService performance test"></ri:page></ac:link>.</p><h1><span style="color: rgb(0,0,0);">Problem After change NumberService</span></h1><h2>update problem[example based on expense which is the most complex]</h2><p>Once we create expense from contract, we lost the releated contract information in expense module. It can be found in the expense items module. But once we add new expense items or update expense items, it's hard to anaylse correct contract code. Also if we want to include {type} information, it's from the connection between {expense.type} and {Setting.Expense.types}. It uses patch API and when we update 'type', we will reset the number. A little confused.</p><h2>Date migration Problem</h2><p>We can only match the regular data.</p><h1>Problem Solution</h1><h2>#1 UX change</h2><p>We should not allow user update number so free. They should only update number sequence and we combine the prefix/contractCode/type/number/postfix.</p><p><ac:image ac:align="left" ac:height="150"><ri:attachment ri:filename="image2023-6-29_15-16-8.png"></ri:attachment></ac:image></p><p><span style="color: rgb(0,51,102);"><ac:image ac:height="250"><ri:attachment ri:filename="update_number.png"></ri:attachment></ac:image></span><ac:image ac:style="max-height: 250.0px;"><ri:attachment ri:filename="test.png"></ri:attachment></ac:image></p><h2>#2 Add validation</h2><p><span style="color: rgb(55,65,81);">We have incorporated several validation functions to prevent any errors when dealing with numerical inputs on the frontend. These functions ensure that the user's input adheres to the expected format without altering the user interface. Therefore, even with the addition of these validation functions, the user's input will remain in its original format. This enhancement aims to provide a seamless user experience while ensuring the accuracy and reliability of the data processed on the server side.</span></p><ul><li><p><span style="color: rgb(106,153,85);">check duplicated number [update and import]</span></p></li><li><span style="color: rgb(106,153,85);">isFreeModify: true/false to make user can modify item freely.</span></li></ul><h1><span style="color: rgb(0,0,0);font-size: 24.0px;letter-spacing: -0.01em;">Data Migration Plan</span></h1><p><span style="color: rgb(0,0,0);font-weight: 600;letter-spacing: -0.003em;">Introduction</span></p><p>The purpose of this data migration plan is to outline the steps and considerations for migrating the existing expenses data to the new data structure, following the implementation of the new method in the expenses API. The migration aims to transform the existing number as string-based data to the new JSONB format.</p><h4>Migration Steps</h4><ol><li><p>Develop Migration Script: Create a migration script to facilitate the transformation of the existing number data from the old string format to the new JSONB format. The script should perform the following tasks:</p><ul><li>Connect to the database and retrieve the existing expenses data.</li><li>Iterate through each record and convert the number column from string to JSONB format.</li><li>Update the records in the database with the transformed data.</li></ul></li><li><p>Test Migration Script</p></li><li><p>Execute Migration Script</p></li><li><p>Monitor and Verify Migration</p></li><li><p>Update API Logic: With the data successfully migrated, update the expenses API number create logic to align with the new JSONB structure. FE/BE</p></li><li><p>Conduct Functional Testing: After the migration and API logic updates, thoroughly test the expenses API to ensure that it functions correctly with the migrated data. Perform end-to-end tests, including creating new expenses and validating the data integrity and consistency.</p></li></ol><h4>The regular data</h4><p>We can only fully migrate the number which adapts the container setting.</p><p>Like container setting: INT-{Contract code}-{Type}-0001</p><ul><li>Get the container setting. If includeType , includeContractCode<ul><li>Get the expense items[if true], find the related contractId and match the {Contract code}</li><li>Get the expense.type</li></ul></li></ul><p>Find all related information and match them.</p><h4>The irregular data</h4><p>If do not match, set defaultValue. <span>But if contract change or expense items change, we can not solve.&nbsp;</span></p><h4>Rollback Plan</h4><p>In the event of any unforeseen issues or data inconsistencies during the migration, it is important to have a rollback plan in place. The rollback plan should include steps to restore the database from the backup taken in the initial step and revert any changes made to the API logic.</p><h4>Datafix after user update setting</h4><p><ac:image><ri:attachment ri:filename="image2023-7-7_11-51-29.png"></ri:attachment></ac:image></p><h1>Rlease</h1><h3>ues original columns as BASE:</h3><ol><li>add new column</li><li>Write to original columns and mirror to new columns</li><li>READ from original column</li><li>Migration script to populate new columns<ol><li>How to migrate? Our original number has different format like 0001/INT-0001-XYZ/INT0001MSI/01.&nbsp;</li><li>Directly, only set number to splitNumber&rarr;number.</li></ol></li></ol><h3>Use new column as BASE:</h3><ol><li>Update number service to use new column structure for the next number</li><li>READ from new columns</li><li>Update FE component to update number</li></ol><p><br></p><hr style="font-size: 14.0px;letter-spacing: 0.0px;">]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2023/08/01/number/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>LLM Finetune &amp;&amp; Prompt engineering</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/LLM_GPT/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/LLM_GPT/</guid>
      <pubDate>Mon, 01 May 2023 04:00:00 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h1 id=&quot;From-our-previous-discussion-about-GPT-finetune-we-decide-to-do-two-aspects-of-work&quot;&gt;&lt;a href=&quot;#From-our-previous-discussion-about-GPT-finetune-we-decide-to-do-two-aspects-of-work&quot; class=&quot;headerlink&quot; title=&quot;From our previous discussion about GPT-finetune, we decide to do two aspects of work.&quot;&gt;&lt;/a&gt;From our previous discussion about GPT-finetune, we decide to do two aspects of work.&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;Using a spider to crawl some QA dataset → Based on llama&amp;#x2F;other_gpt_model to do finetune.&lt;/li&gt;
&lt;li&gt;Set up a UI based on the released GPT model and use a prompt to teach the model some knowledge → QA&lt;/li&gt;
&lt;/ol&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h1 id="From-our-previous-discussion-about-GPT-finetune-we-decide-to-do-two-aspects-of-work"><a href="#From-our-previous-discussion-about-GPT-finetune-we-decide-to-do-two-aspects-of-work" class="headerlink" title="From our previous discussion about GPT-finetune, we decide to do two aspects of work."></a>From our previous discussion about GPT-finetune, we decide to do two aspects of work.</h1><ol><li>Using a spider to crawl some QA dataset → Based on llama&#x2F;other_gpt_model to do finetune.</li><li>Set up a UI based on the released GPT model and use a prompt to teach the model some knowledge → QA</li></ol><span id="more"></span><h2 id="Task-1"><a href="#Task-1" class="headerlink" title="Task 1"></a>Task 1</h2><p>Spider website link:</p><p><a href="https://forums.autodesk.com/t5/bim-360-support/bd-p/183">https://forums.autodesk.com/t5/bim-360-support/bd-p/183</a></p><p>Spider Code:</p><p>test_qa_bim360.py[will create a github repo]</p><p>Dataset:</p><p>output_file.json</p><p>GPT_Model:</p><p>tloen&#x2F;alpaca-lora: Instruct-tune LLaMA on consumer hardware (github.com)</p><p>Result:</p><p>torch.cuda.OutOfMemoryError: CUDA out of memory.</p><p>We need a high GPU need. At least 24GB like nvidia-3090Ti.</p><h2 id="Task-2"><a href="#Task-2" class="headerlink" title="Task 2"></a>Task 2</h2><p>Chinese-English model try:</p><p>Based on local knowledge dataset ChatGLM-6B. The basic theory as follows:</p><p>The process includes loading files -&gt; reading text -&gt; text segmentation -&gt; text vectorization -&gt; question vectorization -&gt; matching the top k most similar to the question vector in the text vector -&gt; matching the text as the context Add it to the prompt with the question -&gt; Submit to LLM to generate the answer.</p><p>I have set up a webui to do a test, conclusion is same as the project owner write → <a href="https://www.heywhale.com/mw/project/643977aa446c45f4592a1e59">https://www.heywhale.com/mw/project/643977aa446c45f4592a1e59</a>.</p><p>After discussion with Jason, we think we can try to use our open dataset and use some open model UI in colab to test if it’s OK.</p><p>If the result is OK, we may apply to use a high performance machine to iterate.</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/LLM_GPT/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Autodesk Internship</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/master_internship_study/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/master_internship_study/</guid>
      <pubDate>Mon, 01 May 2023 04:00:00 GMT</pubDate>
      
      <description>&lt;hr&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><span id="more"></span><h1 id="业务理解"><a href="#业务理解" class="headerlink" title="业务理解"></a>业务理解</h1><p>我有幸加入Autodesk Architecture Cloud Solution中的Cost Management Team，我们主要专注于成本管理产品的开发与优化。</p><h1 id="文档工作"><a href="#文档工作" class="headerlink" title="文档工作"></a>文档工作</h1><p>在2023年1月至2023年4月期间，我在Autodesk的技术写作这一岗位。作为团队中的一员，我的职责是将技术概念转化为易懂的文档和内容。我与开发人员密切合作，编写用户手册、安装指南和开发者文档，确保这些文档准确、清晰、易读。我不仅负责收集信息、研究技术领域、修订文档，还要维护文档的版本和更新，成为传播者和桥梁。</p><p>具体来说，我与团队协作改善用户体验，协助设计用户界面 (UI)，并根据开发技术规范与标准，基于Swagger为产品优化面向客户的API技术文档。此外，我还与测试工程师合作，测试需要公开的API，并协助发现并解决问题。为了确保与Forge团队的顺畅沟通，我还解释了Autodesk Construction Cloud中与成本管理相关的API使用方法。</p><p>在这个阶段，我取得了一些值得骄傲的成果。我成功完成了42个API的开发文档，还创建了5个特殊用例的教程，并对其他API的文档进行了完善和修复。</p><p>……</p><h1 id="技术学习"><a href="#技术学习" class="headerlink" title="技术学习"></a>技术学习</h1><p>从2023年4月底起，我转变角色成为Autodesk的软件开发工程师。在这个职位中，我负责设计、开发和维护高效的成本管理软件解决方案。我的工作跨越了不同部门，需要收集并分析客户需求，并设计并实现创新的功能和工具，帮助用户管理和控制项目成本。除此之外，我也负责系统测试和故障排除，以确保软件的性能和安全性。</p><p>在这个新角色中，我的职责包括基于API文档进行后端的变量验证、根据管理员权限修复API许可问题、根据需求进行性能提升、数据修复和UI适配，以及针对后端API进行性能测试和文档开发等。</p><p>通过不懈的努力，我在这个岗位上取得了显著成果。我基于测试文档和API相关问题，修复了20余处bug。为了提高性能，我对number generator进行了优化，并使用Newman搭建性能测试脚本。</p><p>……</p><h1 id="未来路径"><a href="#未来路径" class="headerlink" title="未来路径"></a>未来路径</h1><p>…….</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%AE%9E%E4%B9%A0/">实习</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2023/05/01/master_internship_study/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Technical Writer</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2023/04/30/technical_writer/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2023/04/30/technical_writer/</guid>
      <pubDate>Sun, 30 Apr 2023 09:26:01 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h1 id=&quot;What-is-a-technical-writer&quot;&gt;&lt;a href=&quot;#What-is-a-technical-writer&quot; class=&quot;headerlink&quot; title=&quot;What is a technical writer?&quot;&gt;&lt;/a&gt;What is a technical writer?&lt;/h1&gt;&lt;p&gt;A technical writer is a professional who creates technical documentation and materials, such as user manuals, installation guides, help files, tutorials, and white papers, among others. Technical writers are typically responsible for producing clear, concise, and accurate content that explains complex technical concepts and procedures in a way that is easy for the intended audience to understand.&lt;/p&gt;
&lt;p&gt;Technical writers work in a wide variety of industries, including technology, healthcare, manufacturing, and finance. They often collaborate closely with subject matter experts (SMEs), such as engineers, developers, and product managers, to ensure that the documentation they produce is accurate and up-to-date. Technical writers may also work closely with designers and editors to ensure that the documentation is visually appealing and engaging.&lt;/p&gt;
&lt;p&gt;To become a technical writer, individuals typically need a strong command of written and verbal communication, as well as a good understanding of technology and technical concepts. Many technical writers have backgrounds in engineering, computer science, or a related field, although some have degrees in communications, journalism, or English. Additionally, technical writers need to be skilled in organizing and presenting information, as well as in using specialized tools and software to create and publish documentation.&lt;/p&gt;
&lt;p&gt;非常有幸在Autodesk进行technical writer这一岗位的实习。其实在我投递这个岗位之前并不清楚这个岗位到底要做什么，之前也没有想过自己会在这个领域工作。但阴差阳错开始的这段实习让我学会了很多，了解了很多，同时也收获了很多。&lt;/p&gt;
&lt;p&gt;本篇就是为了说明一下该岗位的日常工作包含哪些，同时也梳理一下这四个月里我学到了哪些知识。&lt;/p&gt;
&lt;h1 id=&quot;如何定义这份工作？&quot;&gt;&lt;a href=&quot;#如何定义这份工作？&quot; class=&quot;headerlink&quot; title=&quot;如何定义这份工作？&quot;&gt;&lt;/a&gt;如何定义这份工作？&lt;/h1&gt;&lt;p&gt;在此说明，technical writer和technical communication在同一领域，TC沪联针对技术传播做了下图的总结，我觉得很清晰，在此引用一下。&lt;/p&gt;
&lt;center&gt;
&lt;img src=&quot;http://www.technicalwriter.cn/blog/upload/0.jpg&quot; alt title=&quot;technical writer&quot; style=&quot;text-align: center; color: rgb(0, 0, 0); font-family: Arial, Verdana, sans-serif; font-size: 12px;&quot;&gt;
&lt;/center&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h1 id="What-is-a-technical-writer"><a href="#What-is-a-technical-writer" class="headerlink" title="What is a technical writer?"></a>What is a technical writer?</h1><p>A technical writer is a professional who creates technical documentation and materials, such as user manuals, installation guides, help files, tutorials, and white papers, among others. Technical writers are typically responsible for producing clear, concise, and accurate content that explains complex technical concepts and procedures in a way that is easy for the intended audience to understand.</p><p>Technical writers work in a wide variety of industries, including technology, healthcare, manufacturing, and finance. They often collaborate closely with subject matter experts (SMEs), such as engineers, developers, and product managers, to ensure that the documentation they produce is accurate and up-to-date. Technical writers may also work closely with designers and editors to ensure that the documentation is visually appealing and engaging.</p><p>To become a technical writer, individuals typically need a strong command of written and verbal communication, as well as a good understanding of technology and technical concepts. Many technical writers have backgrounds in engineering, computer science, or a related field, although some have degrees in communications, journalism, or English. Additionally, technical writers need to be skilled in organizing and presenting information, as well as in using specialized tools and software to create and publish documentation.</p><p>非常有幸在Autodesk进行technical writer这一岗位的实习。其实在我投递这个岗位之前并不清楚这个岗位到底要做什么，之前也没有想过自己会在这个领域工作。但阴差阳错开始的这段实习让我学会了很多，了解了很多，同时也收获了很多。</p><p>本篇就是为了说明一下该岗位的日常工作包含哪些，同时也梳理一下这四个月里我学到了哪些知识。</p><h1 id="如何定义这份工作？"><a href="#如何定义这份工作？" class="headerlink" title="如何定义这份工作？"></a>如何定义这份工作？</h1><p>在此说明，technical writer和technical communication在同一领域，TC沪联针对技术传播做了下图的总结，我觉得很清晰，在此引用一下。</p><center><img src="http://www.technicalwriter.cn/blog/upload/0.jpg" alt title="technical writer" style="text-align: center; color: rgb(0, 0, 0); font-family: Arial, Verdana, sans-serif; font-size: 12px;"></center><span id="more"></span><p>而我的日常工作主要围绕在以下五个方面：</p><ul><li>开发生产</li><li>跟踪反馈</li><li>售后服务</li><li>产品使用</li><li>产品实施</li></ul><h2 id="开发生产"><a href="#开发生产" class="headerlink" title="开发生产"></a>开发生产</h2><p>Technical writer也有更细的任务分工，作为Autodesk ACS部门 Cost Management Team的TW，我第一项任务就是满足内部用户对产品功能和服务内容的信息需求，主要就是API的说明文档。产品内部是基于Swagger框架进行API设计、构建、记录和测试的。</p><p><code>Swagger is an open-source software framework that is used to design, build, document, and test RESTful APIs. It provides a set of tools for developers to create standardized API documentation that is easy to read, understand, and consume.</code></p><p>实习的第一件事就是学习！快速学习！相比于开发，许多业务场景要更难理解一些，只有理解了业务，才能更好的使用API并进行产品的开发生产工作。</p><p>而API文档的开发就是完善使用说明，修正变量描述等。</p><p>需要学会的技能有：</p><ul><li>API测试 -&gt; 一般使用postman进行测试</li><li>Git与GitHub</li><li>swagger</li><li>熟悉一些pipeline的流程</li></ul><p>以一个API为例：</p><p><code>GET schedule-of-values</code></p><p>这个API主要功能是检索contracts中的详细信息，我们需要对这个API进行测试，发现它的Query、response对比现有的文档有一些差异</p><ol><li>filter[contractId] and filter[budgetId] don’t work with blank, has to be uuid.</li><li>if the parameter value is not in correct format, input “FALSE” for a boolean type will return error as  follow, would suggest to specify which parameter is not correct to help developer quick identify the issue.</li><li>for boolean type, only low-case is supported, will False be supported for example? If not, make it clear in Doc to avoid confusion.</li><li>filter[isRoot] does not work with false, sub sovs are not listed.</li><li>include:  can not have any space within the parameters, and if input value is wrong, there is no error message complaining this, suggest to have a check for the value.</li><li>internalLimit: this is only for internal usage, why not hidden from public doc?</li><li>q: remove from doc if this is deprecated.Response:</li><li>containerId: in response for ACC endpoints, needs to remove to avoid confusion.<br>sort: this even works with for example “amount    +afa - + desc”, what is the format here? need be clear in Doc.</li><li>sort: this even works with for example “amount    +afa - + desc”, what is the format here? need be clear in Doc.</li></ol><p>然后就需要和开发进行沟通，确认这些测试的结果是否是现在预期的。如果不是预期的，就需要针对问题分别提ticket，然后进行修复，如果符合预期，那就得修改文档。</p><p>测试过程中还要书写测试用例，确定各个使用场景的输入和输出。</p><h2 id="跟踪反馈"><a href="#跟踪反馈" class="headerlink" title="跟踪反馈"></a>跟踪反馈</h2><p>我们的API开发好之后，部分API会public给我们的客户，文档的public就需要跟踪反馈。我们的文档如果public出去，就需要forge团队的同事进行review，他们会有一些问题需要开发团队解答，此时，就是我的工作了。由于forge团队的同事不可能知道每个API开发人员是谁，所以我就需要去跟踪他们的review并针对他们的问题向我们的开发同事进行询问，然后给出合理的解答，这个也会持续改进API。</p><h2 id="售后服务"><a href="#售后服务" class="headerlink" title="售后服务"></a>售后服务</h2><p>当我们的API公开出去后，客户就会针对他们的业务进行使用进行二次开发。在Cost Management这个产品中，我们的客户往往需要一些获取一些信息并连接到企业的ERP系统，有时候他们会对response的结果产生疑问，例如我们在Query中有一个参数是 <code>include</code>, <code>include=budget</code>意思是在获取信息时，包含链接的<code>budget</code>信息。有时候用户不清楚，当销售部门也不清楚时就会转到开发部门，我们就需要进一步解答。如果客户有一些其他需要也会找我们的Product Owner， PO可能会来问我。</p><h2 id="产品使用"><a href="#产品使用" class="headerlink" title="产品使用"></a>产品使用</h2><p>产品使用和售后服务类似，不过我们是主导方，我们开发出来的文档就是产品使用说明书。</p><h2 id="产品实施"><a href="#产品实施" class="headerlink" title="产品实施"></a>产品实施</h2><p>和产品使用有一些重合，主要对接客户的开发人员。</p><p>图中的其他工作内容会根据部门&#x2F;团队的不同有所出入。</p><h1 id="这份工作的体验如何？"><a href="#这份工作的体验如何？" class="headerlink" title="这份工作的体验如何？"></a>这份工作的体验如何？</h1><p>技术写作的工作体验因公司和行业而异，但一般来说，技术写作是一个需要高度专业化和细致耐心的工作。以下是我的一些工作体验：</p><ol><li><p>责任感：技术写作通常是一个高度负责的工作，因为它需要确保文档的准确性和及时性。技术写作人员需要与开发人员、测试人员等相关人员合作，以确保文档与最新产品版本保持同步。</p></li><li><p>细心耐心：技术写作需要耐心和细心，因为需要对技术细节进行深入了解，并以清晰和易于理解的方式表达出来。此外，技术写作还需要处理大量的信息和细节，以确保文档的准确性和完整性。</p></li><li><p>团队合作：技术写作往往需要与其他团队成员合作，如开发人员、测试人员、产品经理等。技术写作人员需要建立有效的沟通和协作渠道，以确保文档准确反映产品的特点和功能。</p></li><li><p>专业知识：技术写作需要具备深入的技术知识，以便能够有效地沟通和描述技术细节。技术写作人员需要不断学习和保持对技术的了解，以确保文档始终与产品保持同步。</p></li><li><p>多任务处理：技术写作需要同时处理多个任务和文档，包括用户手册、安装指南、故障排除文档等等。技术写作人员需要有能力管理多个项目和任务，并确保按时完成文档。</p></li></ol><p>总的来说，技术写作是一个具有挑战性的工作，需要对技术和写作都有深入的了解，以便为用户提供清晰和易于理解的文档。虽然技术写作需要投入大量的精力和时间，但对于喜欢写作和对技术感兴趣的人来说，这可能是一个极具成就感的职业。</p><h1 id="Technical-Writer-x2F-Communication-学习资源"><a href="#Technical-Writer-x2F-Communication-学习资源" class="headerlink" title="Technical Writer&#x2F;Communication 学习资源"></a>Technical Writer&#x2F;Communication 学习资源</h1><h2 id="公众号："><a href="#公众号：" class="headerlink" title="公众号："></a>公众号：</h2><ul><li>infomagic技术传播与技术写作</li><li>技术传播那些事</li></ul><h2 id="website："><a href="#website：" class="headerlink" title="website："></a>website：</h2><ul><li><a href="https://github.com/lilin90/awesome-technical-communication">https://github.com/lilin90/awesome-technical-communication</a></li><li><a href="https://www.jianshu.com/u/77358f1c74b3">https://www.jianshu.com/u/77358f1c74b3</a></li></ul><p>资源网络上有很多，作为技术写作和技术传播的从业人员，快速学习能力和信息检索能力是最重要的两个。</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%AE%9E%E4%B9%A0/">实习</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2023/04/30/technical_writer/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Paper instruction &amp;&amp; Bert use</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2023/03/28/bert/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2023/03/28/bert/</guid>
      <pubDate>Tue, 28 Mar 2023 04:00:00 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;p&gt;本项目采用transformers模块，使用bert-base-chinese模型实现文本多分类。&lt;/p&gt;
&lt;p&gt;Github link will update.&lt;/p&gt;
&lt;h3 id=&quot;维护者&quot;&gt;&lt;a href=&quot;#维护者&quot; class=&quot;headerlink&quot; title=&quot;维护者&quot;&gt;&lt;/a&gt;维护者&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Klein &lt;/li&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><p>本项目采用transformers模块，使用bert-base-chinese模型实现文本多分类。</p><p>Github link will update.</p><h3 id="维护者"><a href="#维护者" class="headerlink" title="维护者"></a>维护者</h3><ul><li>Klein </li><li><span id="more"></span></li></ul><h3 id="数据集"><a href="#数据集" class="headerlink" title="数据集"></a>数据集</h3><ul><li>Survey Data</li></ul><p>We gathered data from a leading online medical platform in China. </p><h3 id="代码结构"><a href="#代码结构" class="headerlink" title="代码结构"></a>代码结构</h3><p>运行环境：</p><ul><li>Python: 3.7.9</li><li>Cuda: 10.2</li><li>Cudnn: 7.6.5</li><li>Tensorflow: 2.3.2</li></ul><p>其余第三方模块见requirements.txt.</p><p>代码结构如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── bert-base-chinese（transformers提供的BERT中文预训练模型）</span><br><span class="line">│   ├── config.json</span><br><span class="line">│   ├── tf_model.h5</span><br><span class="line">│   ├── tokenizer_config.json</span><br><span class="line">│   ├── tokenizer.json</span><br><span class="line">│   └── vocab.txt</span><br><span class="line">├── data（数据集）</span><br><span class="line">│   └── sougou_mini</span><br><span class="line">│       ├── test.csv</span><br><span class="line">│       └── train.csv</span><br><span class="line">├── model_predict.py（模型预测脚本）</span><br><span class="line">├── model_train.py（模型训练脚本）</span><br><span class="line">├── model_evaluate.py（模型评估脚本）</span><br><span class="line">├── survey_mini_cls.h5（保存模型）</span><br><span class="line">├── survey_mini_label.json（数据集分类标签）</span><br><span class="line">└── util.py（配置脚本）</span><br></pre></td></tr></table></figure><h3 id="模型结构"><a href="#模型结构" class="headerlink" title="模型结构"></a>模型结构</h3><ul><li>预训练模型：bert-base-chinese</li><li>多分类模型：TFBertForSequenceClassification</li></ul><h3 id="模型评估"><a href="#模型评估" class="headerlink" title="模型评估"></a>模型评估</h3><ul><li>survey</li></ul><h3 id="项目启动"><a href="#项目启动" class="headerlink" title="项目启动"></a>项目启动</h3><ol><li>将BERT中文预训练模型tf_model.h5放在bert-base-chinese文件夹下</li><li>所需Python第三方模块参考requirements.txt文档</li><li>自己需要分类的数据按照data&#x2F;sougou_mini的格式准备好</li><li>调整模型参数，运行model_train.py进行模型训练</li><li>运行model_evaluate.py进行模型评估</li><li>运行model_predict.py对新文本进行评估</li></ol><h3 id="参考网址"><a href="#参考网址" class="headerlink" title="参考网址"></a>参考网址</h3><ol><li>Text classification with transformers in Tensorflow 2: BERT, XLNet: <a href="https://atheros.ai/blog/text-classification-with-transformers-in-tensorflow-2">https://atheros.ai/blog/text-classification-with-transformers-in-tensorflow-2</a></li><li>tensorflow 2.0+ 基于BERT模型的文本分类: <a href="https://zhuanlan.zhihu.com/p/199238483?utm_source=wechat_session">https://zhuanlan.zhihu.com/p/199238483?utm_source=wechat_session</a></li><li>HUGGING FACE: <a href="https://huggingface.co/models">https://huggingface.co/models</a></li></ol>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2023/03/28/bert/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>年轻人租房那点事</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2022/12/25/house_rent/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2022/12/25/house_rent/</guid>
      <pubDate>Sun, 25 Dec 2022 09:26:01 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h1 id=&quot;租房路上有很多事情需要知道&quot;&gt;&lt;a href=&quot;#租房路上有很多事情需要知道&quot; class=&quot;headerlink&quot; title=&quot;租房路上有很多事情需要知道&quot;&gt;&lt;/a&gt;租房路上有很多事情需要知道&lt;/h1&gt;&lt;p&gt;身边的同学们都陆陆续续开始实习工作了，有一些有公司或者单位提供的住房，但企事业单位一般提供的住房并不一定能满足个人的需求，大部分人也需要自己租房。但其实很多人并不清楚租房到底要考虑哪些事情，学生群体的租房需求是很明显的刚需，大家如果去非自己学校所在地进行实习，租房有很多坑，那么今天写一篇帖子来详细说明一下如何租到适合自己的房子。&lt;/p&gt;
&lt;h1 id=&quot;介绍框架&quot;&gt;&lt;a href=&quot;#介绍框架&quot; class=&quot;headerlink&quot; title=&quot;介绍框架&quot;&gt;&lt;/a&gt;介绍框架&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;租房需求&lt;/li&gt;
&lt;li&gt;定位筛选&lt;/li&gt;
&lt;li&gt;实地考察&lt;/li&gt;
&lt;li&gt;合同签订&lt;/li&gt;
&lt;/ul&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h1 id="租房路上有很多事情需要知道"><a href="#租房路上有很多事情需要知道" class="headerlink" title="租房路上有很多事情需要知道"></a>租房路上有很多事情需要知道</h1><p>身边的同学们都陆陆续续开始实习工作了，有一些有公司或者单位提供的住房，但企事业单位一般提供的住房并不一定能满足个人的需求，大部分人也需要自己租房。但其实很多人并不清楚租房到底要考虑哪些事情，学生群体的租房需求是很明显的刚需，大家如果去非自己学校所在地进行实习，租房有很多坑，那么今天写一篇帖子来详细说明一下如何租到适合自己的房子。</p><h1 id="介绍框架"><a href="#介绍框架" class="headerlink" title="介绍框架"></a>介绍框架</h1><ul><li>租房需求</li><li>定位筛选</li><li>实地考察</li><li>合同签订</li></ul><span id="more"></span><h1 id="租房需求"><a href="#租房需求" class="headerlink" title="租房需求"></a>租房需求</h1><p>房子也是一个产品，和互联网产品类似，种类很多，找到适合自己的也是一门学问。而我，现在还是实习生，没有正式长租的经历，所以具体示例，我就只介绍一下短租房。</p><p>需求定位就表格来呈现吧，一条条筛选即可，瞬间回到我学习房地产相关课程领域。</p><table><thead><tr><th>租房需求</th><th>Description</th></tr></thead><tbody><tr><td>位置</td><td>1、首选上班公司附近（学校附近） <br> 2、选择步行+地铁&#x2F;公交40min内可以到达的区域<br></td></tr><tr><td>预算</td><td>1、工作时建议不超过自己工资的30% <br> 2、实习建议不超过自己实习期工资的50%<br>   3、家里有矿当我没说  <br>4、钱很少的实习不在学校所在地慎入</td></tr><tr><td>类型</td><td>1、老城区住宅小区，一般6层以下，建议2-4层 <br> 2、高层住宅，建议最低一梯两户或两梯四户<br>   3、公寓，需要实地考察，切忌直接网上看完图片就定公寓  <br> 4、至少一面<strong>朝南朝南朝南！</strong> 采光很重要<br>5、预算高一点可以选择带独卫的主卧或两室两卫的住宅<br>6、预算低一点选择两室一卫或三室两卫的南卧<br>7、不做饭的话厨房不重要<br> 8、卧室大一点比较重要<br>9、尽量不选择<strong>隔断房！</strong><br>10、水电取暖费用等，最好是民水民电</td></tr><tr><td>配套</td><td>1、2公里内至少有一个商圈<br>2、周围有较多吃饭的地方<br>3、1公里内有较多达到达市区的公共交通<br>4、周围有一个不错的医院<br>5、最好附近有公园绿地<br>6、房子里面配套齐全，该有的必须都得有<br>…其他多多益善</td></tr></tbody></table><p>暂时只想到了这么多，评论区可以补充。</p><h1 id="定位筛选"><a href="#定位筛选" class="headerlink" title="定位筛选"></a>定位筛选</h1><p>面对我们这么多需求，我们光想清楚了，如何找到呢？找不到才是大不多人的问题，我们就按照文献检索的方式展开吧。</p><h2 id="渠道"><a href="#渠道" class="headerlink" title="渠道"></a>渠道</h2><p>按顺序优先筛选[仅个人经验]：</p><ul><li>豆瓣租房小组</li><li>咸鱼租房</li><li>自如</li><li>微博&#x2F;小红书等社交平台</li><li>其他[中介]</li></ul><p>我主要用前三个，就详细介绍一下这三者。</p><h3 id="豆瓣租房小组"><a href="#豆瓣租房小组" class="headerlink" title="豆瓣租房小组"></a>豆瓣租房小组</h3><p>豆瓣租房小组应该是年轻人的优先选择，但是很多人还是不知道这个平台。走豆瓣租房小组也是大家为了避免中介，进行短租等。需求也比较明确，帖子比较多，算是个大平台。</p><p>具体场景例如：</p><ul><li>一个人求租，会有一些人整租然后分租出去其中的几间</li><li>对室友有要求，主要要求就是要求是女生、宠物等</li><li>也可以发帖邀请几个人一起去看房子合租，没试过，但容易被放鸽子</li><li>短租可以去找转租的房子，一般6个月以上可以算是长租</li></ul><p>首先这个平台上也有很多中介，自己刷一刷就有判断中介的tips。中介的特征如下：</p><ul><li>看到就想租的那种，各方面都很完美，地理位置还好，价格也相对美丽</li><li>多种选择，多个价位，联系方式都留全了以及随时看房的</li></ul><p>可以去加几个微信，也可以从他们的介绍中找到合适的位置，自己去那个小区找找。</p><p>可以选择城市租房小组大群，里面信息比较多，以地理位置作为filter比较好，位置优先，其次筛选<strong>转租</strong>这个标签。然后可以去加入下面的子小组和区域小组，这样需求比较具体。例如可以加入上海租房、上海租房下还有@浦东租房，也可以搜索陆家嘴租房、一般按照区域划分，例如：张江、金桥、静安寺等等。</p><p>找到租房信息后就是和对方聊了，基本上就是加微信，远程看房等会一说。</p><h3 id="咸鱼租房"><a href="#咸鱼租房" class="headerlink" title="咸鱼租房"></a>咸鱼租房</h3><p>相比于豆瓣，咸鱼大部分的信息可以分为三种：</p><ul><li>70%左右都是中介</li><li>10%的公寓出租</li><li>20%的个人出租&#x2F;转租，其中也有很多是过期信息</li></ul><p>咸鱼的整体信息筛选难度比较大，比较适合有耐心的人。自己去看看就很容易知道信息了，好处是可以直接通过咸鱼平台进行沟通，一般个人租房或转租都是信息比较少，需要自己去沟通，我从中找到过好几个合适的房子，也实地看过，总体可用。</p><h3 id="自如租房"><a href="#自如租房" class="headerlink" title="自如租房"></a>自如租房</h3><p>有钱+想省事的一个好选择，自如也算是比较大的平台，整体信用比较在线，如果不想折腾加上预算充足，可以直接去自如上搜带独卫的一居室，服务的中介也比较热心，态度也不错。</p><h3 id="微博-x2F-小红书"><a href="#微博-x2F-小红书" class="headerlink" title="微博&#x2F;小红书"></a>微博&#x2F;小红书</h3><p>都属于社交媒体，直接搜索即可，我只从中筛选过信息，微博有过几次沟通，后来不用微博了。</p><h3 id="中介"><a href="#中介" class="headerlink" title="中介"></a>中介</h3><p>如果进行6个月的实习或者工作了，可以找中介，收费为半个&#x2F;一个月的房租，中介的信息确实比较全，如果你的需求比较多，中介还是可以帮忙找到合适的。</p><h1 id="实地考察"><a href="#实地考察" class="headerlink" title="实地考察"></a>实地考察</h1><p>不要赶时间，留出几天时间去实地考察一下房子是稳妥的选择。房子有很多问题，有时候一个难以忍受的点都会让人长期不舒服，还是快乐最重要。一般提前联系好，然后两到三天就可以看很多处房子了。</p><p>实地考察的时候就按照需求定位，每一条逐步检查即可，肯定会有所出入，但注意平衡。</p><p>着重注意的点：</p><ul><li>卫生间，有些卫生间装修的不好，有时候容易积水，如果不注意清洁，就会很脏</li><li>采光情况，因为需要晒衣服，采光不好，也会影响心情</li><li>卧室大小以及衣柜大小，如果是女生，有时候衣服比较多，衣柜不够大往往会造成许多困扰</li><li>周围的环境，看房子不要只看房子，配套一定要一起看</li></ul><p>其他的慢慢补充了。</p><h1 id="合同签订"><a href="#合同签订" class="headerlink" title="合同签订"></a>合同签订</h1><p>由于现在二房东比较多，签合同也是一门学问，建议有时间了解一下合同法。</p><p>上海的二房东就很多，二房东有个很直白的问题就是，万一二房东对大房东的租期到了，你的合同还在，他收了你的钱跑路了，大房东赶你走，这个很难受到法律保护，找不到人也会很折腾你的时间。</p><p>我暂时租的两次都是个人整租出租其中一间，这种因为住在一起，相对还好。转租合同一定要看好他的租期，留好纸质文件，最好找大房东一起重新签订。具体细节太多了，网上有很多帖子，这个建议直接知乎搜索即可。</p><hr><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>不要怕麻烦，多花点时间！</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/City/">City</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E5%9F%8E%E5%B8%82%E7%AF%87/">城市篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2022/12/25/house_rent/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>饮食数据爬取与匹配——以某健康项目为例</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2022/11/16/%E7%9F%A5%E8%AF%86%E8%8E%B7%E5%8F%96/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2022/11/16/%E7%9F%A5%E8%AF%86%E8%8E%B7%E5%8F%96/</guid>
      <pubDate>Wed, 16 Nov 2022 06:23:05 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h2 id=&quot;过往总结&quot;&gt;&lt;a href=&quot;#过往总结&quot; class=&quot;headerlink&quot; title=&quot;过往总结&quot;&gt;&lt;/a&gt;过往总结&lt;/h2&gt;&lt;p&gt;在做本次项目时，发现之前Never Ending Language Leaning这一目标有点太远，其前提条件应该是数据的充足性和准确性。同时数据的充足性和准确性本身就能为项目做出很好贡献，所以Never Ending 的结果是优化。其次，通过模型来进行数据获取，现阶段网上比较好的项目或者比赛，利用其模型并不能很好的适配到我们的知识中，需要清洗的力度很大，所以这一部分最好先放一下，评估一下可行性。&lt;/p&gt;
&lt;h2 id=&quot;数据获取另一思路：追求数据本身（Find-amp-amp-Spider-amp-amp-Match-amp-amp-Hand）&quot;&gt;&lt;a href=&quot;#数据获取另一思路：追求数据本身（Find-amp-amp-Spider-amp-amp-Match-amp-amp-Hand）&quot; class=&quot;headerlink&quot; title=&quot;数据获取另一思路：追求数据本身（Find &amp;amp;&amp;amp; Spider &amp;amp;&amp;amp; Match &amp;amp;&amp;amp; Hand）&quot;&gt;&lt;/a&gt;数据获取另一思路：追求数据本身（Find &amp;amp;&amp;amp; Spider &amp;amp;&amp;amp; Match &amp;amp;&amp;amp; Hand）&lt;/h2&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h2 id="过往总结"><a href="#过往总结" class="headerlink" title="过往总结"></a>过往总结</h2><p>在做本次项目时，发现之前Never Ending Language Leaning这一目标有点太远，其前提条件应该是数据的充足性和准确性。同时数据的充足性和准确性本身就能为项目做出很好贡献，所以Never Ending 的结果是优化。其次，通过模型来进行数据获取，现阶段网上比较好的项目或者比赛，利用其模型并不能很好的适配到我们的知识中，需要清洗的力度很大，所以这一部分最好先放一下，评估一下可行性。</p><h2 id="数据获取另一思路：追求数据本身（Find-amp-amp-Spider-amp-amp-Match-amp-amp-Hand）"><a href="#数据获取另一思路：追求数据本身（Find-amp-amp-Spider-amp-amp-Match-amp-amp-Hand）" class="headerlink" title="数据获取另一思路：追求数据本身（Find &amp;&amp; Spider &amp;&amp; Match &amp;&amp; Hand）"></a>数据获取另一思路：追求数据本身（Find &amp;&amp; Spider &amp;&amp; Match &amp;&amp; Hand）</h2><span id="more"></span><h3 id="1、找数据（Find）"><a href="#1、找数据（Find）" class="headerlink" title="1、找数据（Find）"></a>1、找数据（Find）</h3><p>一方面我们要找可以爬取的数据，但以薄荷健康为例，食物&#x2F;食材的数据只能展现百条左右（每类），这些能够使用，但是还远远不够。同时，薄荷健康背后的数据库是很大的，我们得首先去建立一个需要爬取的list，这样获取的数据是充分的。</p><p>那如何找数据呢，还是进行爬取吗？一方面确实可以这样做，但是我们在爬取的过程中，总会遇到各种各样的问题，合适的网页并不是那么容易寻找，很多我们需要的数据是缺失的。加上一些合规性问题，想要获取到一些准确的信息去深挖网页这样是不合适的。所以应该首先去寻找一些公开数据，在做本次项目时，我们就碰到了，做了很久，找的还是以食材数据为主，这部分在慢病项目中也有所体现。基于食材的热量和类别选择是我们推荐过程中的底层逻辑，但是实际推荐时，我们还是需要去推荐食谱——某一道菜，而非单一的食材。</p><p>综上，找数据不是容易的，但仍然是可以找到的。网络资源中有一些公开数据，本次寻找食谱的时候，就找到了一批很优质的公开数据。</p><center><a href="https://sm.ms/image/YoWGNw3VKstq19z" target="_blank"><img src="https://s2.loli.net/2022/11/16/YoWGNw3VKstq19z.png"></a></center><p>这个数据是某数据库中找到的，一共十几万种食物或菜谱，有配料信息，同时标签和提示中的信息有属于哪种菜、是主食还是小吃、适合产妇、适合老人等，这些信息可以在清洗后，做出很好的推荐。此数据信息很足，应该是我们做项目时就刚开始搜集信息时就需要发现的，而到上周才发现，就说明了查数据是我们之前一直忽视的一个环节。</p><p>在找数据时，还找到了早餐\午餐\晚餐数据。在针对不需要个性化推荐的健康人群，我们完全可以根据这种早午晚餐的表格，匹配量、功效、口味等直接推荐。所以在做项目时，我们寻找数据时应该始终想着网上可能会有一些不错的数据可以直接供我们使用。</p><center><a href="https://sm.ms/image/fSlZudEXPk8yGg4" target="_blank"><img src="https://s2.loli.net/2022/11/16/fSlZudEXPk8yGg4.png"></a></center><font color="LightSeaGreen"><p><strong>最后提醒一下，部分公开数据是不允许直接进行商业使用的，我们需要进一步清洗转换成其他适合我们使用的数据结构。</strong></p></font><h3 id="2、爬数据-Spider"><a href="#2、爬数据-Spider" class="headerlink" title="2、爬数据(Spider)"></a>2、爬数据(Spider)</h3><p>爬数据是一个老生常谈的问题，爬数据其实没有太多好说的，需要注意数据的简介明了，减少后续清洗。本次数据爬取主要是获取了热量信息，这方面的数据是完整的，但是在主料方面，存在许多菜的主料是找不到的，这个我们其实不需要太关心，因为数据量足够大，这部分完全可以选择性忽略，因为有些菜是很难做的，我们后续需要补充的数据是一些常见的食谱，这些其实占据了推荐的主流，要充分考虑，是否需要给菜谱进行常见的等级分类，推荐时给予不同的权重。</p><center><a href="https://sm.ms/image/uSqizjf4IPbt5pc" target="_blank"><img src="https://s2.loli.net/2022/11/16/uSqizjf4IPbt5pc.png"></a><p><a href="https://sm.ms/image/R6p82iZAm3oyUnV" target="_blank"><img src="https://s2.loli.net/2022/11/16/R6p82iZAm3oyUnV.png"></a></p></center><h3 id="3、数据匹配-Match"><a href="#3、数据匹配-Match" class="headerlink" title="3、数据匹配(Match)"></a>3、数据匹配(Match)</h3><p>说明一下上面已经找到食谱了为什么还要去爬数据，主要是我们需要的信息包括了菜名、热量（可能需要）、主料和主料的使用量，让我们的构建的食谱先与薄荷健康进行匹配。<br>我们在上面找到了食谱和食材的数据，推荐的是食谱，计算的原理依靠的是食材，这个时候就需要把两个表联系起来，如何连就是数据匹配的问题。两个数据之间，我们主要依靠的食材的关联，即菜中的主料与食材数据进行匹配，同时获取其他关键词。匹配结果我们保存为json格式（很多食谱推荐的数据都保存在json中）。</p><center><a href="https://sm.ms/image/3uoV2igXD1ZB9bn" target="_blank"><img src="https://s2.loli.net/2022/11/16/3uoV2igXD1ZB9bn.png"></a></center><p>我们起初设计了这样的结构，匹配后，我们需要的数据都可以很清晰的呈现。</p><center><a href="https://sm.ms/image/Kk2JVNGdHOfUIeZ" target="_blank"><img src="https://s2.loli.net/2022/11/16/Kk2JVNGdHOfUIeZ.png"></a></center><p>在匹配的过程中，我们也遇到了一些问题，包括食材库不足，需要进一步扩充，初始使用的食谱数据，数据相对还有一些脏数据，需要前处理，但整体还是很不错的，这部分需要根据规则进一步进行修改。</p><p>最后的格式如下：</p><center><a href="https://sm.ms/image/gZ7GQOaNiBufJ5P" target="_blank"><img src="https://s2.loli.net/2022/11/16/gZ7GQOaNiBufJ5P.png"></a></center><h3 id="4、手动处理（Hand）"><a href="#4、手动处理（Hand）" class="headerlink" title="4、手动处理（Hand）"></a>4、手动处理（Hand）</h3><p>这些自动化的方法，总是会出现各种各样的脏数据，我们需要进一步根据实际情况进行清洗。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>综上所述，我们在数据获取的过程中，不能过分关注模型，模型的训练也是依靠数据的，唯有先在数据本身上面做文章，才可以进一步构建我们需要的数据关系、属性等。</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2022/11/16/%E7%9F%A5%E8%AF%86%E8%8E%B7%E5%8F%96/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>知识获取——基于NLP的方法（参考瑞金医院）</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2022/07/16/ruijin/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2022/07/16/ruijin/</guid>
      <pubDate>Sat, 16 Jul 2022 06:23:05 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h2 id=&quot;瑞金医院比赛&quot;&gt;&lt;a href=&quot;#瑞金医院比赛&quot; class=&quot;headerlink&quot; title=&quot;瑞金医院比赛&quot;&gt;&lt;/a&gt;瑞金医院比赛&lt;/h2&gt;&lt;h3 id=&quot;数据特征&quot;&gt;&lt;a href=&quot;#数据特征&quot; class=&quot;headerlink&quot; title=&quot;数据特征&quot;&gt;&lt;/a&gt;数据特征&lt;/h3&gt;&lt;p&gt;数据源作为行业的金标准，可信度是最高的，但同时也有着知识覆盖面广泛、数据提取难度较大等特征。&lt;/p&gt;
&lt;h3 id=&quot;任务思路&quot;&gt;&lt;a href=&quot;#任务思路&quot; class=&quot;headerlink&quot; title=&quot;任务思路&quot;&gt;&lt;/a&gt;任务思路&lt;/h3&gt;&lt;p&gt;1、想要对相关数据进行实体抽取时，首先需要将pdf文档或者图片等转换成txt文本，然后通过一些半自动化的手段进行抽取。在转换成txt过程中，我们需要注意，pdf有些里面是图片格式，不能进行编辑，这种可以使用百度OCR接口进行转化。如果只要pdf可编辑的文本，可以直接进行提取，注意是否加换行符。具体步骤可以参考下面的文件：&lt;/p&gt;
&lt;p&gt;pdf_txt.ipynb（）&lt;/p&gt;
&lt;p&gt;2、兜兜转转，通过查找，任务又回到了瑞金医院MMC人工智能辅助构建知识图谱大赛。该数据为相关教科书或者文献，是本项任务目前做的最好的且匹配的一个相关资料。在之前，我们只是对瑞金医院的相关资料进行了收集与跑通，我们使用了自己的数据进行模型训练与测试，结果堪忧，但是我们完全可以使用网络上已经训练好的模型进行预测，最后将获得结果进行转化，匹配成为适合我们使用的数据。&lt;/p&gt;
&lt;p&gt;3、现在，需要做的是保存好训练得到的模型，使用该模型进行教科书和文献的实体抽取。&lt;/p&gt;
&lt;p&gt;4、训练好之后，还有一项任务是数据的保存，虽然已经可以展示预测的结果，但是其数据格式还未明确，接下来需要进行数据保存工作。&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h2 id="瑞金医院比赛"><a href="#瑞金医院比赛" class="headerlink" title="瑞金医院比赛"></a>瑞金医院比赛</h2><h3 id="数据特征"><a href="#数据特征" class="headerlink" title="数据特征"></a>数据特征</h3><p>数据源作为行业的金标准，可信度是最高的，但同时也有着知识覆盖面广泛、数据提取难度较大等特征。</p><h3 id="任务思路"><a href="#任务思路" class="headerlink" title="任务思路"></a>任务思路</h3><p>1、想要对相关数据进行实体抽取时，首先需要将pdf文档或者图片等转换成txt文本，然后通过一些半自动化的手段进行抽取。在转换成txt过程中，我们需要注意，pdf有些里面是图片格式，不能进行编辑，这种可以使用百度OCR接口进行转化。如果只要pdf可编辑的文本，可以直接进行提取，注意是否加换行符。具体步骤可以参考下面的文件：</p><p>pdf_txt.ipynb（）</p><p>2、兜兜转转，通过查找，任务又回到了瑞金医院MMC人工智能辅助构建知识图谱大赛。该数据为相关教科书或者文献，是本项任务目前做的最好的且匹配的一个相关资料。在之前，我们只是对瑞金医院的相关资料进行了收集与跑通，我们使用了自己的数据进行模型训练与测试，结果堪忧，但是我们完全可以使用网络上已经训练好的模型进行预测，最后将获得结果进行转化，匹配成为适合我们使用的数据。</p><p>3、现在，需要做的是保存好训练得到的模型，使用该模型进行教科书和文献的实体抽取。</p><p>4、训练好之后，还有一项任务是数据的保存，虽然已经可以展示预测的结果，但是其数据格式还未明确，接下来需要进行数据保存工作。</p><span id="more"></span><h2 id="瑞金医院MMC"><a href="#瑞金医院MMC" class="headerlink" title="瑞金医院MMC"></a>瑞金医院MMC</h2><p><a href="https://tianchi.aliyun.com/competition/entrance/231687/introduction">link:</a></p><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>比赛以人工智能辅助糖尿病知识图谱构建为题，通过糖尿病相关的教科书、研究论文来进行糖尿病文献挖掘并构建糖尿病知识图谱。</p><h3 id="第一赛季任务"><a href="#第一赛季任务" class="headerlink" title="第一赛季任务"></a>第一赛季任务</h3><p>大赛主办方提供与糖尿病相关的学术论文以及糖尿病临床指南，要求选手在学术论文和临床指南的基础上，做实体的标注。实体类别共十五类。</p><p><em>具体参见：<a href="https://tianchi.aliyun.com/competition/entrance/231687/information">https://tianchi.aliyun.com/competition/entrance/231687/information</a></em></p><h3 id="第二赛季任务"><a href="#第二赛季任务" class="headerlink" title="第二赛季任务"></a>第二赛季任务</h3><p>大赛主办方瑞金提供与糖尿病相关的学术论文以及糖尿病临床指南。选手从中抽取实体之间的关系。实体之间关系共十类。</p><p><em>文件标注工作基于brat软件，</em><a href="http://brat.nlplab.org/"><em>http://brat.nlplab.org/</em></a><em>。其中.txt文件为原始文档，.ann文件为标注信息，标注实体以T开头，后接实体序号，实体类别，起始位置和实体对应的文档中的词。如果需要在brat软件中查看标注结果，需要添加.conf文件。</em></p><p><em>数据格式：</em></p><p><em>第一赛季：文件中每一列以tab分割，共三列：第一列为实体编号，编号自拟且需唯一；第二列包含实体类别和实体的起始和终止位置，以空格分割，注意部分实体可能在第二列有分号，表示该实体跨行；第三列是实体所对应的词语。</em></p><p><em>第二赛季：在原有内容的基础上，后面添加行代表关系。关系行以tab分割，共两列：第一列为关系编号，以字符R开头，如“R1”，编号需唯一；第二列包含关系类别和关系的起始（以Arg1:开始，后接实体id，如“Arg1:T1”）和终止位置（以Arg2:开始，后接实体id，如“Arg2:T2”），以空格分割。</em></p><h2 id="实例1"><a href="#实例1" class="headerlink" title="实例1"></a>实例1</h2><p><a href="https://github.com/beader/ruijin_round1">实例1link</a></p><h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><p>只包含命名实体识别的第一赛季。</p><p>使用了Bidirectional LSTM + CRF，一种常见的方法，用起来简单，但也有麻烦的地方，包括：</p><ul><li>对一篇文章去做实体标注，文章的字数可能很长(几千到上万字)，不可能直接输入到一个 RNN 中。</li><li>样本中文章可能由于格式转换的一些原因，没有一个很好的句子边界，甚至一个词汇当中存在换行符 \n 或者句号 。 的情况，因此用换行符或者句号去切割句子不一定合适。如果按照固定窗口大小的滑动窗口去切句子，刚好把一个实体切分成2个部分怎么办？</li><li>中文分词</li></ul><h3 id="实例结果"><a href="#实例结果" class="headerlink" title="实例结果"></a>实例结果</h3><h4 id="测试与预测结果："><a href="#测试与预测结果：" class="headerlink" title="测试与预测结果："></a>测试与预测结果：</h4><center><p><a href="https://smms.app/image/4NV7YWrg9wdlitO" target="_blank"><img src="https://s2.loli.net/2022/11/29/4NV7YWrg9wdlitO.png"></a></p></center><p>可以看出结果还是不错的。模型准确率也在0.75+的水平。</p><h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>模型肯定是不能拿来直接用的，数据输入部分需要一定的变化。但替换数据之后，将数据输入的实体文件（ann）文件改为空，在最后预测的输入部分，预测的实体位置与类型不正确，原因尚未找到。</p><center><a href="https://smms.app/image/sEgL5DYZp1VjXI2" target="_blank"><img src="https://s2.loli.net/2022/11/29/sEgL5DYZp1VjXI2.png"></a></center><h2 id="实例2"><a href="#实例2" class="headerlink" title="实例2"></a>实例2</h2><p><a href="https://github.com/ZhengZixiang/tianchi_ruijin_knowledge_graph">实例2link</a></p><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><p>输入输出比较清晰，是之前我们使用过的BIO格式，最后转换成瑞金医院比赛所需的输出，结构明了。</p><h4 id="数据处理方式"><a href="#数据处理方式" class="headerlink" title="数据处理方式"></a>数据处理方式</h4><p>在子文件中，详见→[数据预处理及解决]</p><h4 id="requirements"><a href="#requirements" class="headerlink" title="requirements"></a>requirements</h4><p>Python3</p><p>CRF模型：</p><ul><li>beautifulsoup</li><li>codecs</li><li>jieba&#x3D;&#x3D;0.39</li><li>pandas</li><li>progressbar2&#x3D;&#x3D;3.38.0</li><li>python-crfsuite&#x3D;&#x3D;0.9.6</li><li>scikit-learn</li></ul><p>BiLSTM+CRF模型</p><ul><li>keras&#x3D;&#x3D;2.2.4</li><li>git+<a href="https://www.github.com/keras-team/keras-contrib.git">https://www.github.com/keras-team/keras-contrib.git</a></li></ul><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>在进行文字比对的过程中需要获取<a href="http://www.zdic.net/sousuo/%E7%BD%91%E7%AB%99%E4%B8%8A%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%91%E7%8E%B0%E6%9C%89%E4%B8%80%E4%BA%9B%E5%AD%97%E7%BD%91%E7%AB%99%E4%B8%8D%E8%83%BD%E8%A7%A3%E6%9E%90%EF%BC%8C%E6%9C%AC%E6%9D%A5%E4%BB%A5%E4%B8%BA%E6%98%AF%E7%BD%91%E7%AB%99%E6%9B%B4%E6%94%B9%EF%BC%8C%E5%AF%BC%E8%87%B4%E6%9F%A5%E8%AF%A2%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%89%BE%E4%B8%8D%E5%88%B0%E5%AF%B9%E5%BA%94%E7%9A%84id%E6%88%96attrs%E3%80%82%E4%BD%86%E5%90%8E%E7%BB%AD%E5%8F%91%E7%8E%B0%EF%BC%8C%E6%98%AF%E4%B8%80%E4%BA%9B%E6%96%87%E5%AD%97%E5%B9%B6%E6%9C%AA%E5%87%BA%E7%8E%B0%E5%9C%A8%E7%BD%91%E7%AB%99%E7%9A%84%E5%BA%93%E4%B8%AD%EF%BC%8C%E8%BF%99%E5%B0%B1%E5%AF%BC%E8%87%B4%E4%BA%86NoneType%E7%9A%84%E6%8A%A5%E9%94%99%EF%BC%8C%E8%BF%99%E9%87%8C%E4%BD%BF%E7%94%A8try%EF%BC%9A">http://www.zdic.net/sousuo/网站上的一些信息，我们发现有一些字网站不能解析，本来以为是网站更改，导致查询的过程中找不到对应的id或attrs。但后续发现，是一些文字并未出现在网站的库中，这就导致了NoneType的报错，这里使用try：</a> except： 将找不到忽略，最终忽视这些错误，以达成我们的目标。</p><center><a href="https://smms.app/image/kE4D1glGS8QZc7J" target="_blank"><img src="https://s2.loli.net/2022/11/30/kE4D1glGS8QZc7J.png"></a></center><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>成功进行了实体识别，效果还不错，数据输入是左侧格式的，输出是可以查找到实体位置的ann文件，只需要进行数据格式转化即可。</p><center><a href="https://smms.app/image/d1jQyTX6UhN2g5c" target="_blank"><img src="https://s2.loli.net/2022/11/30/d1jQyTX6UhN2g5c.png"></a></center><h2 id="第二赛季"><a href="#第二赛季" class="headerlink" title="第二赛季"></a>第二赛季</h2><h3 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h3><h3 id="数据特点："><a href="#数据特点：" class="headerlink" title="数据特点："></a>数据特点：</h3><ol><li>已知实体对可能关系类别，但未知是否成立</li><li>数据集标签存在一定噪声(存在关系的实体对相隔太远)</li></ol><h3 id="构建训练样本"><a href="#构建训练样本" class="headerlink" title="构建训练样本"></a>构建训练样本</h3><p>当成一个二分类问题来做。先生成 Candidate Entity Pairs，做一些简单的过滤，然后利用训练集中的 Relation 数据给 Candidate Entity Pairs 打 0 或者 1 的标签。</p><center><a href="https://smms.app/image/AEpgKvxV3Gk6csm" target="_blank"><img src="https://s2.loli.net/2022/11/29/AEpgKvxV3Gk6csm.png"></a></center><p>比赛中，用中文句号 (。) 做句子切分，选取 size&#x3D;2, step&#x3D;1 的滑动窗口来生成句子。即每个句子包含原始文章中的2句话。接着把每个句子中出现的 entities 做个排列组合，把不存在于比赛要求的 10 个 relation type 中的组合过滤掉，作为 candidate entity pairs。</p><h3 id="向量化"><a href="#向量化" class="headerlink" title="向量化"></a>向量化</h3><p>对每个样本进行向量化，提取 5 个向量作为模型的输入。</p><ul><li>char id sequence 为转化为字符id后的句子文本序列</li><li>entity labels vector 为代表 entity 类别的向量</li><li>from entity mask 用 [1] 标记出 from_entity 的位置，剩余位置补 [0]</li><li>to entity mask 用 [1] 标记出 to_entity 的位置，剩余位置补 [0]</li><li>entity distance 为一个带符号的实数，用来表示两个 entity 的距离</li></ul><h3 id="核心思路"><a href="#核心思路" class="headerlink" title="核心思路"></a>核心思路</h3><ol><li>实体对两两组合，并将覆盖他们的句子切出进行分类</li><li>覆盖实体对的句子在两端各取一定长度的短句丰富上下文信息</li></ol><table><thead><tr><th>Plaintext  if end - begin &lt;&#x3D; 100:   padding &#x3D; 50 # window是在两边补多少词   elif end - begin &lt;&#x3D; 140:   padding &#x3D; 30  else:   padding &#x3D; 0</th></tr></thead></table><p><a href="https://qrfaction.github.io/2019/02/28/%E7%91%9E%E9%87%91%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/">可以点击看这篇文章</a></p><h3 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h3><p>最后在识别率方面，不是很高，检查了一下，临近区域的关系基本上是正确的，但部分距离较远的两个实体，不一定有关系，这和数据标签本身的噪声有关，同样也和训练的模型效果有关。</p><center><a href="https://smms.app/image/JGFNDWePk7BQiMw" target="_blank"><img src="https://s2.loli.net/2022/11/30/JGFNDWePk7BQiMw.png"></a></center><p>识别效果尚可，临近区域的关系识别准确率也是可靠的。</p><h2 id="知识获取（基于瑞金医院比赛）的全过程方案"><a href="#知识获取（基于瑞金医院比赛）的全过程方案" class="headerlink" title="知识获取（基于瑞金医院比赛）的全过程方案"></a>知识获取（基于瑞金医院比赛）的全过程方案</h2><h3 id="数据处理部分"><a href="#数据处理部分" class="headerlink" title="数据处理部分"></a>数据处理部分</h3><p>由于瑞金医院代码预测需要生成每个字一行的csv文件，所以要面向糖尿病医学指南等pdf类型文件进行数据预处理。主要思路是是首先识别pdf文字，再生成csv，根据上传的代码以及预处理的思路整理了如下的流程：</p><center><a href="https://smms.app/image/Wxn19p6TlogquJh" target="_blank"><img src="https://s2.loli.net/2022/11/29/Wxn19p6TlogquJh.png"></a></center><p>每个代码的注意事项：</p><h4 id="1-pdf-txt-ipynb"><a href="#1-pdf-txt-ipynb" class="headerlink" title="1.pdf_txt.ipynb"></a>1.pdf_txt.ipynb</h4><p>使用时主要是修改路径path，注意：一定要将Python文件与PDF文件放在同一个目录内，否则代码不能成功运行</p><table><thead><tr><th>JSON if _<em>name</em>_ &#x3D;&#x3D; ‘<strong>main</strong>‘: #PDF文件所在的路径.注意：一定要将Python文件与PDF文件放在同一个目录内，否则代码不能成功运行  path &#x3D; r’D:\JUPYTER\pdf-txt’   pdfList &#x3D; os.listdir(path)</th></tr></thead></table><p>在该文件夹下就能生成一个txt文件，生成后可以放到一个单独的文件夹里，以防重复生成</p><center><a href="https://smms.app/image/lSfxhQnqsVyIzXd" target="_blank"><img src="https://s2.loli.net/2022/11/30/lSfxhQnqsVyIzXd.png"></a></center><h4 id="2-txt-csv-ipynb"><a href="#2-txt-csv-ipynb" class="headerlink" title="2.txt_csv.ipynb"></a>2.txt_csv.ipynb</h4><p>如果直接使用源代码中数据预处理的代码preprocess.py中生成csv会遇到问题，源代码自带的csv文件遇到换行符只空一行，表明换行，但是直接运行该代码生成两行空行，经过调研得到原因：</p><center><a href="https://smms.app/image/O9XMzLJmRrsdCPT" target="_blank"><img src="https://s2.loli.net/2022/11/29/O9XMzLJmRrsdCPT.png" alt="  _4_.png"></a></center>所以不能直接使用read函数读取生成list，重新写一个函数，用readlines函数对每一行依次进行读取再生成csv文件解决问题<p>在使用前注意<strong>修改文件的输入路径（txt文件集的路径）和输出路径</strong>，可以批量输出</p><h4 id="3-pdf转图片"><a href="#3-pdf转图片" class="headerlink" title="3.pdf转图片"></a>3.pdf转图片</h4><p>目前找到的最便捷有效的方法是使用免费的pdf转图片网站<a href="https://pdftoimage.com/%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%BD%91%E7%AB%99%E5%8F%AF%E4%BB%A5%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0pdf%E5%85%8D%E8%B4%B9%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%AF%8F%E4%B8%80%E9%A1%B5%E7%9A%84%E5%9B%BE%E7%89%87%EF%BC%88%E6%9C%89%E5%8D%95%E6%AC%A1%E4%B8%8A%E9%99%90%E8%A6%81%E6%B1%82%EF%BC%89%EF%BC%8C%E7%94%9F%E6%88%90%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%8C%85%E4%B8%AD%E5%9B%BE%E7%89%87%E5%90%8D%E5%AD%97%E6%A0%B9%E6%8D%AE%E9%A1%B5%E7%A0%81%E6%8E%92%E5%BA%8F%E6%96%B9%E4%BE%BF%E5%A4%84%E7%90%86%EF%BC%8C%E8%80%8C%E4%B8%94%E7%94%9F%E6%88%90%E7%9A%84%E5%9B%BE%E7%89%87%E5%9C%A8%E4%B9%8B%E5%90%8E%E7%9A%84%E8%AF%86%E5%88%AB%E4%B8%AD%E6%9C%89%E5%BE%88%E5%A5%BD%E7%9A%84%E6%95%88%E6%9E%9C%E3%80%82">https://pdftoimage.com/，这个网站可以批量上传pdf免费转换为每一页的图片（有单次上限要求），生成的压缩包中图片名字根据页码排序方便处理，而且生成的图片在之后的识别中有很好的效果。</a></p><h4 id="4-批量识别图片-ipynb"><a href="#4-批量识别图片-ipynb" class="headerlink" title="4.批量识别图片.ipynb"></a>4.批量识别图片.ipynb</h4><p>将pdf转图片网站输出的压缩包在path路径下解压，可以多本书多个文件夹同时进行识别</p><table><thead><tr><th>JSON path &#x3D; ‘.&#x2F;test&#x2F;‘</th></tr></thead></table><center><a href="https://smms.app/image/Qj2VBJaXs9Wmzc5" target="_blank"><img src="https://s2.loli.net/2022/11/29/Qj2VBJaXs9Wmzc5.png"></a></center><p>需要配置的环境是图片识别文字的工具包，使用pytesseract和PIL库识别图片中的中文，环境配置方法<a href="https://blog.csdn.net/pythonxiaopeng/article/details/109028403%E7%BB%93%E6%9E%9C%E5%BE%88%E5%A5%BD%EF%BC%8C%E9%99%A4%E4%BA%86%E4%B8%80%E4%BA%9B%E6%A0%87%E7%82%B9%E9%94%99%E8%AF%AF%E6%96%87%E5%AD%97%E5%86%85%E5%AE%B9%E5%9F%BA%E6%9C%AC%E6%AD%A3%E7%A1%AE%EF%BC%8C%E9%87%8D%E8%A6%81%E7%9A%84%E6%98%AF%E5%AF%B9%E4%BA%8E%E4%B8%A4%E6%A0%8F%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E6%96%87%E5%AD%97%E9%A1%BA%E5%BA%8F%E6%B2%A1%E6%9C%89%E5%87%BA%E9%94%99%EF%BC%8C%E5%A6%82%E5%9B%BE%EF%BC%9A">https://blog.csdn.net/pythonxiaopeng/article/details/109028403结果很好，除了一些标点错误文字内容基本正确，重要的是对于两栏格式的数据文字顺序没有出错，如图：</a></p><center><a href="https://smms.app/image/JPrQ3VdbpuSYa9v" target="_blank"><img src="https://s2.loli.net/2022/11/30/JPrQ3VdbpuSYa9v.png"></a></center><p>右栏识别出的结果如下，是string格式（注意用replace函数把空格去掉，并把\n\n替换为\n，便于生成数据所需要的表格格式）：</p><center><a href="https://smms.app/image/TcnhkYWyVmb3SUp" target="_blank"><img src="https://s2.loli.net/2022/11/30/TcnhkYWyVmb3SUp.png"></a></center><p>path路径中除了要识别的文件夹不要有其他的文件夹，而且图片必须要放到下级的文件夹中，这个代码的思路是识别path中的所有文件夹，对每个文件夹的图片识别文字并生成一个csv（csv的名字是子文件夹的名字，如图）</p><center><a href="https://smms.app/image/KpOySgRislE4kuG" target="_blank"><img src="https://s2.loli.net/2022/11/30/KpOySgRislE4kuG.png"></a></center>### 命名实体识别<p>下载<a href="https://vp5n68z1wa.feishu.cn/wiki/wikcnoX5A7iVYiz6J8D4F6bv9Cc">NER_Ruijin.rar</a></p><p>运行这个文件即可</p><center><a href="https://smms.app/image/vqwH24LRSpW8kOX" target="_blank"><img src="https://s2.loli.net/2022/11/29/vqwH24LRSpW8kOX.png"></a></center><p>数据放在这里，数据为处理好的csv文件，上面有介绍。</p><center><a href="https://smms.app/image/oJRnA6glbwQGqvD" target="_blank"><img src="https://s2.loli.net/2022/11/29/oJRnA6glbwQGqvD.png"></a></center><h3 id="关系抽取"><a href="#关系抽取" class="headerlink" title="关系抽取"></a>关系抽取</h3><p><a href="https://vp5n68z1wa.feishu.cn/wiki/wikcnOHCWBT7qs3XXGKMohrwoNW">RE_Ruijin.rar</a></p><p>运行这个文件，其中数据集在data\round2\this_file_to_add_NER_data中</p><center><a href="https://smms.app/image/2QZ4qwSVbJfyj51" target="_blank"><img src="https://s2.loli.net/2022/11/29/2QZ4qwSVbJfyj51.png"></a></center><p>文件包括两种，一个是原始txt文件，一个是经过NER的ann文件</p><center><a href="https://smms.app/image/82G4hFTKwuyBodO" target="_blank"><img src="https://s2.loli.net/2022/11/30/82G4hFTKwuyBodO.png"></a></center><p>输出为zip文件，文件中有submit和x1这种例子。</p><p><strong>需要学习可以邮件联系我。</strong></p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2022/07/16/ruijin/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>村上-自由、青春、改变、思考</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/08/%E6%9D%91%E4%B8%8A-%E8%87%AA%E7%94%B1%E4%B9%8B%E9%A3%8E/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/08/%E6%9D%91%E4%B8%8A-%E8%87%AA%E7%94%B1%E4%B9%8B%E9%A3%8E/</guid>
      <pubDate>Wed, 08 Jun 2022 13:04:59 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h1 id=&quot;村上先生&quot;&gt;&lt;a href=&quot;#村上先生&quot; class=&quot;headerlink&quot; title=&quot;村上先生&quot;&gt;&lt;/a&gt;村上先生&lt;/h1&gt;&lt;p&gt;看了一年多村上先生的书了，主要的作品也基本上看过了，如何评价村上先生呢？我也不知道，难以用准确的言语概括，最后也只能妄自评价一下他的作品了。于我而言，作品本身更甚于作者本身，有些自说自话，那也就酱紫了。&lt;/p&gt;
&lt;h2 id=&quot;Story&quot;&gt;&lt;a href=&quot;#Story&quot; class=&quot;headerlink&quot; title=&quot;Story&quot;&gt;&lt;/a&gt;Story&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;font color=&quot;#0000dd&quot;&gt;三部曲&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&quot;#0000dd&quot;&gt;挪&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&quot;#0000dd&quot;&gt;舞、鸟…&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&quot;#0000dd&quot;&gt;最坚强的十五岁少年&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color=&quot;#0000dd&quot;&gt;1Q84&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;……&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;font color=&quot;009688&quot;&gt; 愚者之虑，莫如休憩&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h1 id="村上先生"><a href="#村上先生" class="headerlink" title="村上先生"></a>村上先生</h1><p>看了一年多村上先生的书了，主要的作品也基本上看过了，如何评价村上先生呢？我也不知道，难以用准确的言语概括，最后也只能妄自评价一下他的作品了。于我而言，作品本身更甚于作者本身，有些自说自话，那也就酱紫了。</p><h2 id="Story"><a href="#Story" class="headerlink" title="Story"></a>Story</h2><ul><li><font color="#0000dd">三部曲</font></li><li><font color="#0000dd">挪</font></li><li><font color="#0000dd">舞、鸟…</font></li><li><font color="#0000dd">最坚强的十五岁少年</font></li><li><font color="#0000dd">1Q84</font></li><li>……</li></ul><p><strong><font color="009688"> 愚者之虑，莫如休憩</font></strong></p><hr><span id="more"></span><h1 id="三部曲"><a href="#三部曲" class="headerlink" title="三部曲"></a>三部曲</h1><font color="000000"> <h2 id="《且听风吟》"><a href="#《且听风吟》" class="headerlink" title="《且听风吟》"></a>《且听风吟》</h2><p>不止看了一遍且听风吟，恰好第二次在村上先生陪跑诺奖的时候，也是挺不容易的。因为村上先生的处女作有着独特的体系，太难捋，不好记录，就按照自己的局部理解写了诗，当然平仄是完全不对的。</p><center><p>且听风吟</p><p>漫步执信不经心，宛先欲著尚未明。</p><p>秋夜缓行八钟鼓，旅途且停听风吟。</p></center><center><a href="https://sm.ms/image/ClDWLAjOUuyToYv" target="_blank"><img src="https://s2.loli.net/2022/11/16/ClDWLAjOUuyToYv.jpg"></a></center><p>网上有很多很好的书评，我就写一点我自己的认知吧。</p><p>“1970年夏，那时的风是，萎靡而苦乐参半地吹拂过。我们的梦，再也不会重来了。”开局这段话是相当得文艺，满是忧伤。接下来就要开始讲29岁的村上先生、“我”还有“鼠”的故事。</p><p>这本书里，最明显的就是距离感，孤独感和幽默感，感觉“我”和“鼠”都是“三观很正”的人，当然“我”和“鼠”也都是作者本人的映射。但是“我”对人有些尤其明显的距离感，包括书中，有些话很委婉，距离感也夹杂在字里行间。</p><p>有几处感触很深，一个是“给你个忠告：不从过去的阴影走出来会受伤的啊”，当然是翻译过来的，也会有差别，意思到位了。也看了相关的一些评论和编者按，村上先生写这本书的时候，也算是追忆似水年华？［是消极过往］因为也有总结，告别的习惯，这一点还是挺共情的。</p><p>还有一处就是写诗的主要依据了：“宛先不明，受取者不明”。自己也寄了不少信出去，也收到过朋友的来信，目的都很明确。看到时立马想到岩井先生的《情书》，受取人本不明却阴差阳错……自己也还有因为各种原因没有寄出去的信，虽然说原因肯定和书中“我”并不一样，但是一个封闭内心的，三观很正的，始终保持距离感的“我”，读到时还是挺伤感的。</p><p>其中关于主人公“我”交往过三个女生的记叙or描写也是推着故事不断向前的一个重要部分，但是因为有点不太理解，就不做阐述了。<br>总得来说，《且听风吟》还是非常值得读的，安利。</p><h2 id="1973年的弹子球"><a href="#1973年的弹子球" class="headerlink" title="1973年的弹子球"></a>1973年的弹子球</h2><p>可能也就“我们”这样学生过来看看，秃头大叔来看确实有点真闲了。</p><p>依旧是双线，我和鼠，没有脱离刚开始写作的文风，作为村上先生第二本的《1973》年的弹子球势必是需要在看完《且听风吟》后再看的。是追忆，也是寻找，很适合20岁出头突然有一个悠闲的时间来读读，不然之后怕也是不会再拿来看了吧。</p><p>还是“我”的故事，其中包括了触角的延申“鼠”，还有与双胞胎的长期生活，自我封闭的世界与弹子球的故事，每天日复一日，其实也大差不差。不用过多和别人说话，没有过多情感，但一旦追忆起来，其实还是各种各样的情绪夹杂其中。</p><p>最后重新看到弹子球时，进入了一个幽暗的世界，不是现实，在《舞！舞！舞！》中找羊男也是这样，总之就是有着沉睡着死去的、过去的一切。而“我”耗费一切来到这个世界，重见弹子球和逝去的时光，以及那个事务所里的帮我缝腋窝的“她”，真的恰如重见时说的“找的我好苦”、“弹子球不打了？”、“不打了”。离开那个世界。鼠也要走了，“定了，离开这座城市”。一切周而复始，双胞胎也要走了，“你们走了，我非常寂寞”，“我”也就慢慢“一整天望着窗外飘逝的十一月的这个星期日，这个一切都清澄得近乎透明的带静静的十一月的星期日。”</p><p>当“电话响了，我这样想道，有谁要对谁诉说什么。找我本身的电话几乎没有。想向我诉说的人一个也没有，至少我希望别人诉说的无人向我诉说。”</p><p>轻快精辟的风格，也是村上先生早期作品的特点，不像其他作品那么出名，但是就人与人之间的疏离关系而言，还是挺值得读一读的。</p><h2 id="寻羊冒险记"><a href="#寻羊冒险记" class="headerlink" title="寻羊冒险记"></a>寻羊冒险记</h2><p>《寻羊冒险记》是我3月多回学校，因为上海疫情，飞机前排有个小阳人成为高危一密时看的，也是有在寻羊了吧（狗头）。</p><p>相比于前两部，这一部文风就成熟很多了。全文都围绕着“寻羊”这件事展开，羊是一个抽象的概念，应该是代指恶魔。（自称羊羊羊的我还挺期望成为恶魔的，因为恶魔是神的对手，带恶人实锤了）最后“鼠”和恶魔同归于尽，黑衣男被我炸死，应该可以算是恶的终结，可能村上先生也以此向过去告别，青春的恶果就这么烟消云散了，从此已是另外一副面孔。文中的三个女子，妻子、女友（p）和喜喜（emmm写一下，courtesan），相继离去，最后还是孤单的“我”。</p><p>但后续的内容，并不是很好写，还是这本书太抽象了。林少华先生评价是羊在某种程度上成了日本政府不顾一切推进现代化进程的一种象征”，那也就是日本军国主义的象征，黑暗邪恶的象征。</p><p>实这没有一个准确的答案，村上很多次都表示，有些意象他自己也没搞清楚，只是写着写着就向羊的方向发展了。</p><p>先写这么多了。</p><h1 id="挪"><a href="#挪" class="headerlink" title="挪"></a>挪</h1><p>读完<strong>《挪威的森林》</strong>（以下称之为《挪》），还是有许多想写的，林少华先生在写译序的时候写了一个标题“永远的青春风景”，村上先生说这是一部现实主义小说，就这样读好。有些人按照他在腰封加入“百分之百的恋爱小说”读的，读完后我更倾向于将之理解为“现实主义小说”更为贴切，其中关于“性、爱（两者是分离的）”的描述，个人更倾向于将这理解为一种故事情节的推进，就和主人公渡边说的有些话一样，<strong>“最最喜欢你，绿子。”“什么程度？”“像喜欢春天的熊一样。”</strong>春天的熊又是什么了，哪有那么多原因，就是这样如此而已。包括像继续看的《国境以南，太阳以西》，一个完整的故事，其中看似突兀的情节因为突兀显得一点也不。</p><center><a href="https://sm.ms/image/8mqxHhCPF9tET5S" target="_blank"><img src="https://s2.loli.net/2022/11/16/8mqxHhCPF9tET5S.jpg"></a></center>**详细写，有大量剧透！**<p>从问问题开始，最后渡边是否结婚了？（和绿子）</p><p>应该是否定的，一开始就写到了三十七岁的渡边坐在波音747客机上，前往汉堡着陆时，问渡边不舒服的是空姐而不是绿子，飞机停稳后，渡边置身于那边草地，周围谁也没有，没有直子，如果绿子在，依照绿子的性格是肯定要带着渡边跑出机舱了。</p><p><strong>第二章</strong>就开始回忆了，这是一个完整的故事。</p><p>东京的大学生活，与“敢死队”住在一起的故事，“敢死队”成为了渡边与其他女性交流的一个趣谈。与直子之间的交谈也很正常，从中也穿插了渡边、直子、木月的故事，木月的死引出了第一处经典“死并非生的对立面，而作为生的一部分永存”。以木月的死为边界，直子和渡边也不再是一个完整的人，死亡这个意识也一直伴随着渡边，最后也已直子的自杀而告终。</p><p><strong>第三章</strong>开始就是渡边与直子的约会，不是一种完整的爱。这就与木月相关了，也与渡边和直子的性格有关系。渡边的大学并不认真，但却经常看书，渡边喜欢反复看一本自己中意的书，而其中一本书《了不起的盖茨比》就串联了我与永泽的关系。永泽是一位很奇特的人，不好说不好说，看看就知道了，整篇文章关于永泽的赘述反而更加成就了小说人物——永泽的女友“初美”。而本章最后渡边与直子（不可描述，省略**字）……也让死亡开始伴生。而敢死队送给“我”的萤火虫也颇有象征意义，放走萤火虫，“我几次朝夜幕伸出手去，指尖毫无所触，那小小的光电总是同指尖保持着一点点不可触及的距离。”而直子也始终如此，可望而不可即。同时直子离开了。</p><p><strong>第四章</strong>开始便是“敢死队”的离开，可能是家庭太拮据了？或者？我也不是很清楚，只是记得前面细节上写的“敢死队”家庭情况很不好。随后因为“戏剧史”课程引出了渡边与绿子的见面，纠葛也从此开始。渡边与绿子的对话也颇有趣味，当然也经常ghs，绿子是非常讨人喜欢的女孩，说实话挺适合渡边的，绿子认为的爱有点不近人情，但是那也只是她认为的而已，实际上的绿子真的是一个敢爱敢恨的好女孩，而在与渡边的交流的过程中，绿子和渡边也互相喜欢，但是实际上，绿子有一个很帅的男朋友（没做太多描写，最后理所当然地因为渡边分手了），而渡边此时也爱着直子，不过对话中总是很喜欢翻译（有喜欢的女孩→有可心的女孩。）真是可爱极了。</p><p><strong>第五章</strong>很简单，直子的一封信，直子去了一处养护机构——阿美寮，又是心理疾病（这个问题最近看的书涉及的有点多），毫无疑问，此时的渡边是直子唯一的精神寄托，不是说渡边是直子的男朋友，暂时只能说是友情以上吧，毕竟直子的男友木月已经去世了，但直子并不爱渡边，渡边和直子这个时间还活在迷惘之中。</p><p><strong>第六章</strong>是渡边去找直子，在阿美寮的故事，遇到了另外一个人，玲子。这一部分还是蛮复杂的，整体还是不好描述的，这部分的主题可以说是如何解释“性、爱分离”。细节过多，其中一些对话很喜欢：</p><font color="009082"> “我说，渡边君，今早你干嘛总看我的脸？”直子好笑似的问道。<p>“他么，怕是在热恋着一个人。”玲子说。</p><p>“你热恋一个人”直子问。</p><p>“或许。”我也笑着说。</p><font color="000000"> <p>这部分也写了直子姐姐的自杀，其实早有征兆，但是谁也不去管，谁也没有那么在意，还有玲子的故事也挺……不好说。Pass</p><p>总之直子还远远没有到恢复的程度，之后也产生了悲剧。</p><p><strong>第七章</strong>便又是返回东京后渡边与绿子的故事了，我随绿子去医院照看她的父亲，绿子的父亲已经奄奄一息，注定不久于人世，但是渡边超级温柔，他帮助绿子照看了她父亲俩小时，让绿子出去放空一会儿，绿子一周照顾四天父亲，还要上学、看店门，而渡边在照顾绿子父亲的俩小时里给其讲了关于戏剧的一些市，虽然绿子的父亲这个时候肯定是听不明白了，但是最后还是努力说了几个字，大体意思是让渡边照顾绿子，渡边真的很温柔。<strong>PS：紫菜卷黄瓜沾酱油可以一试。</strong></p><p><strong>第八章</strong>讲到了永泽考上了外务省，即将离开，而初美与永泽的故事，也在未来的渡边几句陈述中写下了无奈的结局。初美也是渡边未来回忆中的一处珍贵，或许渡边心中最完美的女性应该说就是初美。</p><p><strong>第九章</strong>就是绿子父亲的离开，绿子可以说是卸下了很多，同时绿子也与男友分手，毫无疑问，绿子喜欢上了渡边。绿子也十分胆大，拉着渡边去看sexy电影，最后渡边和绿子并没有进行下一步，晚上送回绿子回家后，渡边在绿子的家里又读了《在轮下》，这处细节的描写真的太不可理喻了，但是在渡边身上确是很合理。</p><p><strong>第十章</strong>是直子病情恶化的章节，预示着死亡。渡边告别了永泽，也告别了寄宿院，搬出了学校，发生了很多事情，让渡边一时间也难以接受，而永泽的一句“同情自己是卑劣懦夫干的勾当”也让渡边重新开始生活。和直子、绿子之间也发生了不少事，不好说不好说，毕竟喜欢这东西，怎能一两句话就解释明白。</p><p>对话还是很有趣：</p><font color="#009000"> <p>“喜欢我喜欢到什么程度？”绿子问。</p><p>“整个世界森林里的老虎全都融化成黄油。”</p><p>虽然渡边爱上了绿子，但也爱过直子，这个时候的渡边是非常难做的，毕竟爱上一个人谁都没有错。</p><font color="000000"> <p><strong>十一章</strong>就是结尾了</p><p>直子死了，渡边到处流浪，一个多月，非人一般的茫无目的，或许连同直子那一份的渡边也一起死掉了吧，已经不是一个完整的人了。而渡边在一位渔夫的“施舍”下重新回到东京，重返现实世界了，因为还有绿子作为活生生的人留了下来。玲子的到来也让渡边恢复了不少，最后他们发生了性关系，（玲子大渡边19岁），玲子也是养护场所的一位病人，我觉得这个地方是双方都走出来阴影。送走玲子后，渡边给绿子打电话，<strong>最后写的真的很好。</strong></p><p>良久，绿子用沉静的声音开口道：“你现在在哪？”</p><p>我现在在哪？</p><p>我拿着听筒扬起脸，飞快地环视电话亭四周。我现在在哪？我不知道这里是哪里，全然摸不着头脑。这里究竟是哪里？目力所及，无不是不知走去哪里地男男女女。我从哪里也不是地场所地正中，不断呼唤着绿子。</p><p>村上先生好像也不知道为啥《挪》突然火了，或许写的确实平平无奇，但那份年少的忧郁真的好吸引人，应该说是让不少少年人都有共鸣。渡边在忧郁中也非常坦诚，但是这份坦诚也让故事更加忧郁起来。大家也都在始终如一地去寻找自己的幸福，如果难以找到，或者没有活下去的理由，那就死吧，也是物哀的一部分，虽然小日子过的不错的日本人总有些谨小慎微了，但是关于去寻求自己内心答案在各种文学作品中的赘述说实话是推动日本文学前进的一个重要因素，日本文学能够具有如此影响力也与之相关。</p><p><strong>《挪》是死者的安魂曲，又是青春的墓志铭，这是关于青春的物语，关于正视自身的故事。所谓成长恰恰是这么回事，毕竟我们正值青春。</strong></p><p><strong>PS：《国境以南 太阳以西》应该在《挪》看完后看，有很多相似的地方，最好选林少华先生的译文。</strong></p><h1 id="舞！舞！舞！"><a href="#舞！舞！舞！" class="headerlink" title="舞！舞！舞！"></a>舞！舞！舞！</h1><p>虽然说《舞！舞！舞！》有些压抑的要死，但也有在迷茫中寻求现实意义的映射，置身于高度发达的资本主义社会，这样的世界，林少华先生写到“哲学愈发类似经营学”。同时极具商品性的社会让人非常疲惫，羊男指教了“跳舞，不停地跳舞”，但如此“跳舞”也只会让人疲倦，主人公身处于社会边缘也拥有着自成一统的价值观和付诸行动的良知与勇气，值此我也非常喜欢关于主人公的描写。同时写作语气也是一如村上式幽默，虚无与荒诞之下，也别有趣味。安利一下！</p><p>《舞！舞！舞！》是我隔离期间看的一本，当时也压抑的要死，具体的心情忘了，这本书还是值得反复读一下</p><p>可以当作羊的续集。</p><center><a href="https://sm.ms/image/Y92ztrQUiqv5gP3" target="_blank"><img src="https://s2.loli.net/2022/11/16/Y92ztrQUiqv5gP3.jpg"></a></center><h1 id="奇鸟形状录"><a href="#奇鸟形状录" class="headerlink" title="奇鸟形状录"></a>奇鸟形状录</h1><p>一部关注民族历史，审视自己民族现实的大作！不好写，写放着了。</p><h1 id="最坚强的十五岁少年"><a href="#最坚强的十五岁少年" class="headerlink" title="最坚强的十五岁少年"></a>最坚强的十五岁少年</h1><p>《海边的卡夫卡》</p><p>感觉是比《少年派的奇幻漂流》还要奇幻的故事，但是我不是非常推荐读这本书，因为确实不是很好读，加上双线一开始看会有点懵，非常跳脱的情节，“村上氏不合理”却又那么合理，虽然不推荐但是我真的太喜欢这种感觉了。“正经思考不正经的事，纯属徒劳”，所以“愚者之虑莫如休憩”，“诗与象征性自古以来就是密不可分的，一如海盗和朗姆酒。”很多无厘头的原因，就像是绿野上奔跑的熊，还有森林里的狮子，奇奇怪怪的，没有什么原因，因为乌鸦像写字台。</p><center><a href="https://sm.ms/image/JyTY1K8MesgBlnA" target="_blank"><img src="https://s2.loli.net/2022/11/16/JyTY1K8MesgBlnA.jpg"></a></center><p>全文中有很多隐喻的东西，看到了村上君很多前作的影子，一些经典的话毫无以为和前面的书有映射，这也是隐喻吧。那我们就慢慢谈谈“卡夫卡的奇幻之旅”。</p><p>卡夫卡君四岁时，母亲就带着姐姐离家出走了，始终都有着“没有被爱的资格”的疑问，十五岁时，偷走家里的四十万日元离家出走，成为了世界上最顽强的十五岁少年。精简的行李，姐姐的照片，从东京前往四国，大巴上，遇见可能是姐姐的“樱花”。</p><p>抵达后住进可以打折的商务酒店，在犯难时选择了去“图书馆”，（这一点真的太符合我的认知了）故事也围绕着“甲村图书馆”展开，这是一家私人图书馆，卡夫卡君遇到了大岛和佐伯，大岛代表着无性人，实际是女人，但是和男人也没有差别，佐伯是一个知性的高雅女士，主线沿着卡夫卡君，讲了很多故事， 包括“不知何故遍身是血躺在荒野”、“求助樱花”、“海边森林小屋”、“图书馆客房的少女幽灵”、“履行父亲的诅咒”、“内心的乌鸦（卡夫卡的意思就是乌鸦）”、“又一个异世界空间”等等，主线的故事非常值得品读。</p><p>然后支线是中田的故事，一个上了年纪，因为入口石而失去基础认知的老人，发生了“杀死琼斯·沃克，即代替卡夫卡杀死他的父亲”、“天降大鱼和蚂蝗”、“受到星野的帮助来到四国找到入口石并命中注定般地和佐伯见面并找回一部分失去的东西”、“灵魂重塑”。支线和主线汇合时，简直被村上先生的脑洞惊到，太精彩了。</p><p>田村卡夫卡君，作为少年，还是可变的，灵魂上的绵软，身体迅猛发展，精神在无边的荒野游荡，没有发现真我的外壳，孤立无援但世界上最坚强的十五岁少年，投入到波涛汹涌的成年人世界中，有种力量，在现实中，也在现实外，不断拯救着卡夫卡君。</p><p>有无奈，有难以生存，“某种情况下，命运这东西类似不断改变前进方向的局部沙尘暴，你变换脚步力图避开提前，不料沙尘暴就像配合你似的同样变换脚步————如此无数次周而复始，恰如黎明前同死神一起跳不吉利的舞。”要不停的起舞，正如《舞！舞！舞！》，哎呀，有太多太多的好句子了，还是故事足够优秀，如果真的愿意静下心来，这本书是非常值得大学期间读的！</p><h1 id="1Q84"><a href="#1Q84" class="headerlink" title="1Q84"></a>1Q84</h1><p>封校期间get到师兄的《1Q84》，真的太精彩了，比较厚，看了一部分的时候有点无以言表，book1真的脑洞大开的感觉。这本是施小炜先生翻译的，有很明显的特色哈哈哈，书中翻译的“调羹”，地域特色不要太明显了。因为林少华先生和施小炜先生是翻译村上先生作品非常有名的两位，相比于施的精准，个人感觉林在再创作方面还是更强一些，两者都达到了信·达，但林做到了信·达·雅，不过对于读者来说也没太大差别了。</p><p>看完了足够厚的《1Q84》，反复出现的一句话“孤独一人也没关系，只要发自内心的爱着一个人，人生就会有救”，还是蛮有有趣的，上次我自己写的孤独之心常有，和这个孤独的程度还是远远比不上的。不过这本书叙事观念非常宏大，写的却有点小了，很多支线都可以成为新的一本书，这种宏大叙事观总会给我们一个不太满意的结尾。有些地方没明白，恰好借了村上先生97年写的《地下》，林说这两本是有对应的，看完了再总写一次书评。</p><h1 id="……"><a href="#……" class="headerlink" title="……"></a>……</h1><p>还有《世界尽头与冷酷仙境》、《国境以南太阳以西》、《斯普特尼克恋人》、《天黑以后》、《没有色彩的多崎作和他的巡礼之年》、《东京奇谭集》、《第一人称单数》、《地下》</p><center><a href="https://sm.ms/image/8QXY6IoV3AO7HtL" target="_blank"><img src="https://s2.loli.net/2022/11/16/8QXY6IoV3AO7HtL.jpg"></a></center><p>看的主要是村上先生的长篇，短篇就看了《东京奇谭集》、《第一人称单数》两本，《地下》是写《1Q84》之前的纪实。《天黑以后》很适合infj读，可能我测出来是infj的原因，有一定主观性，不过村上先生以上帝视角写的《天黑以后》确实很适合“我”们这些人吧[村上先生大概率是infp吧]。</p><p>《第一人称单数》里面有好几个故事，《品川猴》和《在石枕上》都是不错的小故事，特别是《在石枕上》，很凄美，极端倾向，需要救赎的时候，我觉得我又可以了！《多崎作》怎么说呢，可以看，看完我的感觉就是很好，但是具体怎么个好法其实我并不能说出来多少。就是没有色彩的多崎作，对应的是他的有“色彩”的几个小伙伴，朋友们的名字里都有颜色，他们互相都已颜色代称，唯有多崎作是最特殊的一个。也和其他文章一样，我认为多崎作是孤独的，就像村上先生曾经说“<strong>人生基本上是孤独的</strong>······”其实也没有那么绝对，但是多崎作还是以写成长之痛为主吧，很多人会有共鸣，所以我觉得他写的很好，但是具体怎么好需要共鸣。《斯普特尼克恋》是极具奇幻色彩的，对应的是斯普特尼克的故事，一切是那么不可思议，但又是那么理所当然，奇奇怪怪，值得一看。</p><p>就写到这吧，写的太多了，有些也是之前总结过的，希望大家值青春正此时之际，读万卷书，行万里路啦！</p></font></font></font></font></font>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/reading/">reading</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E4%BF%AE%E8%BA%AB%E7%AF%87/">修身篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/08/%E6%9D%91%E4%B8%8A-%E8%87%AA%E7%94%B1%E4%B9%8B%E9%A3%8E/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>反恐精英与博弈论：建模与统计分析</title>
      <link>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/06/games_theory/</link>
      <guid>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/06/games_theory/</guid>
      <pubDate>Mon, 06 Jun 2022 06:23:05 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;h2 id=&quot;1前言&quot;&gt;&lt;a href=&quot;#1前言&quot; class=&quot;headerlink&quot; title=&quot;1前言&quot;&gt;&lt;/a&gt;1前言&lt;/h2&gt;&lt;h3 id=&quot;1-1反恐精英&quot;&gt;&lt;a href=&quot;#1-1反恐精英&quot; class=&quot;headerlink&quot; title=&quot;1.1反恐精英&quot;&gt;&lt;/a&gt;1.1反恐精英&lt;/h3&gt;&lt;p&gt;《反恐精英》是一款基于目标的多人第一人称射击游戏。两个对立的团队-恐怖分子和反恐精英,在游戏模式中竞争完成目标，例如确保放置或拆除炸弹的位置。在每个回合结束时，玩家会根据自己的个人表现获得游戏内货币奖励，以便在后续回合中花费在更强大的武器上。赢得回合比失败会带来更多的钱，完成杀死敌方玩家等目标可以获得现金奖励。 &lt;/p&gt;
&lt;p&gt;在博弈论术语中，CS：GO是一个由16到30个子游戏组成的随机游戏。从一轮传递到下一轮的唯一参数是每个团队的净资产。由于这些轮次既是离散的又是随机的，因此这个问题是马尔可夫链的一个例子。&lt;/p&gt;
&lt;p&gt;该游戏不仅非常受休闲游戏玩家的欢迎，而且作为一项电子竞技游戏也具有巨大的吸引力。正如网站E-Sports Earnings所指出的那样：自2012年CS：GO发布以来，总奖金池总计超过6,800，000.00美元，仅次于DOTA 2。&lt;/p&gt;
&lt;p&gt;预测比赛结果对博彩公司和博彩玩家来说都是一项有利可图的业务，CS：GO也不例外。根据《华盛顿邮报》援引的一份报告，2018年全球电子竞技博彩总额预计将达到近70亿美元。&lt;/p&gt;
&lt;h3 id=&quot;1-2目标&quot;&gt;&lt;a href=&quot;#1-2目标&quot; class=&quot;headerlink&quot; title=&quot;1.2目标&quot;&gt;&lt;/a&gt;1.2目标&lt;/h3&gt;&lt;p&gt;本报告旨在通过使用统计分析和预测模型的创建来探索和分析CS：GO。我们将使用自建的持久性模型，同时可以考虑借用Python的Scikit-Learn包中包含的一些分类模型，但这点根据具体情况进行安排。在整个过程中，我将测试假设并简要讨论每个结果的重要性。&lt;/p&gt;
&lt;h3 id=&quot;1-3我们的数据&quot;&gt;&lt;a href=&quot;#1-3我们的数据&quot; class=&quot;headerlink&quot; title=&quot;1.3我们的数据&quot;&gt;&lt;/a&gt;1.3我们的数据&lt;/h3&gt;&lt;p&gt;我们的数据“esea_meta_demos.part1”是从在线数据集提供商Kaggle下载的。数据是通过解析“演示”，在线提供的比赛的数字娱乐，这些非常适合建模，因为它们包含有关游戏状态的所有重要信息，并且持续更新。&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\Kleinyc.github.io\assets\css\APlayer.min.css"><script src="\Kleinyc.github.io\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr><h2 id="1前言"><a href="#1前言" class="headerlink" title="1前言"></a>1前言</h2><h3 id="1-1反恐精英"><a href="#1-1反恐精英" class="headerlink" title="1.1反恐精英"></a>1.1反恐精英</h3><p>《反恐精英》是一款基于目标的多人第一人称射击游戏。两个对立的团队-恐怖分子和反恐精英,在游戏模式中竞争完成目标，例如确保放置或拆除炸弹的位置。在每个回合结束时，玩家会根据自己的个人表现获得游戏内货币奖励，以便在后续回合中花费在更强大的武器上。赢得回合比失败会带来更多的钱，完成杀死敌方玩家等目标可以获得现金奖励。 </p><p>在博弈论术语中，CS：GO是一个由16到30个子游戏组成的随机游戏。从一轮传递到下一轮的唯一参数是每个团队的净资产。由于这些轮次既是离散的又是随机的，因此这个问题是马尔可夫链的一个例子。</p><p>该游戏不仅非常受休闲游戏玩家的欢迎，而且作为一项电子竞技游戏也具有巨大的吸引力。正如网站E-Sports Earnings所指出的那样：自2012年CS：GO发布以来，总奖金池总计超过6,800，000.00美元，仅次于DOTA 2。</p><p>预测比赛结果对博彩公司和博彩玩家来说都是一项有利可图的业务，CS：GO也不例外。根据《华盛顿邮报》援引的一份报告，2018年全球电子竞技博彩总额预计将达到近70亿美元。</p><h3 id="1-2目标"><a href="#1-2目标" class="headerlink" title="1.2目标"></a>1.2目标</h3><p>本报告旨在通过使用统计分析和预测模型的创建来探索和分析CS：GO。我们将使用自建的持久性模型，同时可以考虑借用Python的Scikit-Learn包中包含的一些分类模型，但这点根据具体情况进行安排。在整个过程中，我将测试假设并简要讨论每个结果的重要性。</p><h3 id="1-3我们的数据"><a href="#1-3我们的数据" class="headerlink" title="1.3我们的数据"></a>1.3我们的数据</h3><p>我们的数据“esea_meta_demos.part1”是从在线数据集提供商Kaggle下载的。数据是通过解析“演示”，在线提供的比赛的数字娱乐，这些非常适合建模，因为它们包含有关游戏状态的所有重要信息，并且持续更新。</p><span id="more"></span><h2 id="2-CS：GO-游戏内经济入门"><a href="#2-CS：GO-游戏内经济入门" class="headerlink" title="2 CS：GO 游戏内经济入门"></a>2 CS：GO 游戏内经济入门</h2><p>在回合开始时，玩家有机会购买武器和装备。正如人们所预料的那样，更昂贵的武器和装备通常更强大，并且会给玩家带来游戏内优势。我们稍后将以图形方式观察这种效果。</p><p>团队在一轮中购买的装备和武器被昵称为“购买”，并由团队协调，以最大化其预期价值（即赢得的回合）。至关重要的是，团队并不总是花费最大的金额，因为这并不总是最有效的长期政策。</p><p>第一轮（任何一半，以下简称）从平衡的经济开始。每个玩家将获得固定金额的现金，用于武器和装备。现金价值极其有限，以至于玩家只能买得起手枪和&#x2F;或有限的装备，因此，这一轮被称为“手枪弹”。</p><p>手枪弹之后的子弹往往基本上是单面的。这是游戏经济机制的结果，允许一个团队基本上购买比对手更强大的武器和装备阵列。<br>在一支球队赢得一轮比赛后，他们有很短的时间从倒下的队友&#x2F;对手的身体中清除更好的装备。（因此，赢得一轮没有静态的经济“奖励”）</p> <center>表1：数据示例<p><a href="https://smms.app/image/LG9Jv1moKcM7khT" target="_blank"><img src="https://s2.loli.net/2022/11/28/LG9Jv1moKcM7khT.jpg"></a></p></center>因为《反恐精英》是一款不对称的游戏，所以每张地图通常会在某种程度上偏袒一方。我们需要看看哪张地图最“平衡”也就是说，CT或T方的胜率最接近于没有差异的地图。<p>通过对比发现，最平衡的地图是幻影！</p><p>由于每张地图都鼓励不同的游戏风格和策略，因此对趋势的任何分析通常都依赖于地图。因此，我们将使用在“幻影”的比赛中收集的数据。在可能的情况下，我将 map 作为函数参数包括在内。</p><h2 id="3建模"><a href="#3建模" class="headerlink" title="3建模"></a>3建模</h2><h3 id="3-1定义目标变量。"><a href="#3-1定义目标变量。" class="headerlink" title="3.1定义目标变量。"></a>3.1定义目标变量。</h3><p>我们希望预测一轮的获胜者，因为我们可以访问有关游戏的数据，直到该回合开始。因此，我们的目标变量是谁赢得了回合，在我们的.csv文件中定义为“winner_side”列。我们可以使用的最简单技术模型是持久性模型。也称为朴素预测或随机游走预测的持久性模型是用于预测时间序列数据的简单模型。</p><h3 id="3-2持久性模型"><a href="#3-2持久性模型" class="headerlink" title="3.2持久性模型"></a>3.2持久性模型</h3><p>“鉴于一轮的结果与前一轮的结果相关联，该模型预测回合n + 1的结果与第n轮的结果相同。测试后续模型有用性的一种方法是，看看它是否能比持久性模型更好地预测回合的结果。从这个意义上说，我们使用持久性模型 （PM） 作为我们的基本模型。</p><h4 id="3-2-1假设1："><a href="#3-2-1假设1：" class="headerlink" title="3.2.1假设1："></a>3.2.1假设1：</h4><p>持久性模型在游戏的每半部分将具有不同的分类准确性。</p><p>做此假设的原因：</p><p>随着游戏的进行，倾斜（挫败感）和精神疲劳等心理影响对玩家的影响会更糟。因此，输掉一轮比赛可能会对球队在半场结束后的士气产生比前半场比赛更显著的负面影响。如果这个假设是正确的，在没有其他影响的情况下，我们会观察到PM在中场休息后的比赛中会有更高的准确性。也就是说，输掉一轮对下一轮结果的影响，在比赛后期被失利的心理方面夸大了。</p><h4 id="3-2-2假设2"><a href="#3-2-2假设2" class="headerlink" title="3.2.2假设2"></a>3.2.2假设2</h4><p>技术比价低的队员对失利变得更加沮丧，并经历上述心理影响的程度明显高于职业或半职业球员，后者将能够保持冷静的头脑。</p><p>人们可以测试PM在评分较低的队员中是否比职业选手表现得更好。如果这个假设是正确的，人们会观察到随着评级范围的增加，可预测性逐渐下降。</p><h3 id="3-3测试"><a href="#3-3测试" class="headerlink" title="3.3测试"></a>3.3测试</h3><p>对于数据帧中的每一行，模型需要评估并执行以下几项操作：</p><p>1）这是一个新的匹配吗？</p><p>2）这一轮是比赛的下半场还是上半场？ </p><p>3）本轮结果的模型预测，“prevresult”是否等于None？</p><p>4）是否是第15轮（上半场的最后一轮）</p><h3 id="3-4测试结果"><a href="#3-4测试结果" class="headerlink" title="3.4测试结果"></a>3.4测试结果</h3><p>持久性模型似乎在两个半场中大致准确地进行了分类（&lt;1%的差异）。起初，人们可能会将此解释为模型在两个总体上具有相同的准确性。然而，这是一个我们应该厌倦仅仅基于数据量之间小的精度差异而提出的主张。我们的每个样本都足够大（n≈40，000），如果他们来自同一人群，他们应该看起来几乎相同。</p><h2 id="4统计分析"><a href="#4统计分析" class="headerlink" title="4统计分析"></a>4统计分析</h2><h3 id="4-1T检验"><a href="#4-1T检验" class="headerlink" title="4.1T检验"></a>4.1T检验</h3><p>T 检验是一种统计检验，用于检验两组数据的独立性。在这种情况下，我们的数据是：“前半部分”和“后半部分”;二进制数字列表，其中 1 对应于正确的模型预测，0 对应于不正确的预测。</p><p>我们可以使用这样的测试来确定我们的假设是正确的可能性。</p><p>注意：重要的是，T检验假定预测变量&#x2F;秒近似正态分布。由于我们的数据本质上是二元的，因此这一规定有些没有实际意义。</p><p>重申一下：我们预测我们的PM在游戏的后半部分将具有更高的精度，如果每个样本上的模型精度差异被证明是统计显着的，这将得到证明：（原假设p&gt;0.95）。<br>零假设是：“持久性模型在两个样本上都同样准确。</p><p>如果零假设是正确的，则模型精度应相等，并且约等于报告准确性的1%差异被解释为统计上不显著的方差。</p><p>由于T检验的准确性取决于样本的大小，因此，如果我们将前半部分和后半部分数组切成长度“i”，则让我们绘制 Null 假设正确的可能性。通过将 t 检验概率值与 i 绘制，我们可以看到概率趋向于零。我们可以通过外推合理地推断出原假设是假的，极有可能是假的，我们的假设是正确的。这是贝叶斯收敛的一个例子，当我们包含更多样本时，我们的假设为假的可能性呈指数级趋向于零。查看下图，了解此属性的图形演示</p><p>PM似乎确实比上半场更善于预测下半场的回合数。</p><h3 id="4-2-Mann–Whitney-U-检验"><a href="#4-2-Mann–Whitney-U-检验" class="headerlink" title="4.2 Mann–Whitney U 检验"></a>4.2 Mann–Whitney U 检验</h3><p>与 t 检验不同，MWU 检验不需要假定变量近似正态分布。</p><center><p><a href="https://smms.app/image/Ii67sxq2NBrjSQY" target="_blank"><img src="https://s2.loli.net/2022/11/28/Ii67sxq2NBrjSQY.png"></a></p><p>图2:检验结果</p></center><h2 id="5结论"><a href="#5结论" class="headerlink" title="5结论"></a>5结论</h2><p>前一半和后一半持久性模型准确率分别为65.49%和66.48%;两组的分布差异很大。（Mann–Whitney U &#x3D; 539686240，first half: 38714，second half: 28160，U-test null hypothesis p-value: 0.00377366703734，P &lt; 0.0038）也就是说，原假设为真的可能性为0.38%，不同模型精度的假设概率超过99%。</p><h3 id="5-1解释"><a href="#5-1解释" class="headerlink" title="5.1解释"></a>5.1解释</h3><p>虽然我们已经证明，我们的模型在预测下半回合方面确实具有更高的准确性，但准确性的差异很小，在进行任何人工分析时，大部分时间都可以忽略。我怀疑模型的准确性比我们的假设所给予的荣誉更具动态性。也就是说：我认为模型精度在逐回合的基础上会适度变化，而不是（仅）半个。尽管如此，在不同条件下和不同样品上研究模型的准确性是值得的。如果我们最终要汇总每个模型的预测，这些信息将有助于“加权”每个模型的投票。为了提高准确性，这应该动态地完成，根据n，当前比赛回合。</p><h2 id="6持久性模型的准确性如何随时间演变？"><a href="#6持久性模型的准确性如何随时间演变？" class="headerlink" title="6持久性模型的准确性如何随时间演变？"></a>6持久性模型的准确性如何随时间演变？</h2><p>PM的准确性自然而然地在匹配过程中流动,在很大程度上，这可以通过观察上述回合造成的经济环境来解释，该回合在比赛过程中在不同程度上有利于该球队。在没有任何心理影响的情况下,CS：GO（回合）的子博弈是马尔可夫链的一个例子，其概率相对于当前回合是动态的。</p><center><p><a href="https://smms.app/image/JMCL8fpbqOuIg1G" target="_blank"><img src="https://s2.loli.net/2022/11/28/JMCL8fpbqOuIg1G.png"></a></p><p>图3:准确性变化</p><p><a href="https://smms.app/image/f6mPzatKRUGNZQX" target="_blank"><img src="https://s2.loli.net/2022/11/28/f6mPzatKRUGNZQX.png"></a></p><p>图4 逻辑</p></center>### 6.1这告诉我们什么？<p>PM精度本质上是衡量舍入n的结果与倒数n + 1的依赖程度的度量;回合的准确性表明前一轮具有相应的重要性。</p><h3 id="6-2我们的假设是有缺陷的！"><a href="#6-2我们的假设是有缺陷的！" class="headerlink" title="6.2我们的假设是有缺陷的！"></a>6.2我们的假设是有缺陷的！</h3><p>我们假设：“持久性模型在游戏的每一半中都具有不同的分类准确性，”我们声称这可能表明人类的挫败感会导致扭曲的回合，其中累积的优势在心理上会被夸大。我们没有考虑到一场比赛中不同的回合数。第一个总共赢得16轮的球队赢得比赛;无论对手赢了1轮还是14轮。（15-15是平局）。因此，一场比赛的前15轮将始终进行，而下半场的15轮则不会。</p><p>我们的统计数据“持久性模型下半场的准确性”具有误导性，因为我们的数据集中16-20区域的回合数比21-30区域多得多。这极大地扭曲了这一统计数据的结果，以至于它在某种程度上具有误导性。按圆形浏览PM模型的精度就说明了这一点。平均而言，上半场每个点都低于各自的回合，但下半场所有回合的平均准确率更高。</p><center><p><a href="https://smms.app/image/k3JU7OzlYQr1bTI" target="_blank"><img src="https://s2.loli.net/2022/11/28/k3JU7OzlYQr1bTI.png"></a></p><p>图5数据存在的误导性</p></center><p>在我们的样本中发现一个巨大而麻烦的偏斜是很晚的，因为它使我们并非所有回合的胜利都值得一样！正如我们之前假设的那样，每半场的第一轮是下一轮的非常好的预测因子，其准确性比整个样品高出10%。因此，手枪子弹在数量上比其他子弹更重要。</p><p>出乎意料的是，第二轮半场被证明是比第一轮更强的预测因子，这打破了手枪回合必然是半场中最重要的一轮的假设。赢得下一轮比赛充其量只是对一轮比赛重要性的粗略衡量。</p><p>进一步的工作：更好的衡量标准是队伍在第一轮和第二轮获胜后赢得半场的机会。</p><h3 id="6-3思考"><a href="#6-3思考" class="headerlink" title="6.3思考"></a>6.3思考</h3><p>从理论上讲，PM是分析此马尔可夫链的次优方法，原因很简单，因为它没有完全封装当前的游戏状态。</p><p>从子游戏传递到子游戏的唯一游戏内参数是每个团队的现金余额，我们的数据集没有考虑到这一点。这些数据的替代是净值。区别在于，第一个包含有关团队可以采用的“购买”范围的信息，而第二个仅包含有关他们选择的“购买”策略的信息。这不是一个关键的区别。</p><p>注意：在实践中，我们的“替代”数据在某些方面实际上是比“纯”数据更有用的预测因子。这样做的原因是，团队通常会承诺购买策略，虽然在当前的子游戏中是不理想的，但可以节省一部分资源以供后续回合使用。这方面的一个例子是“生态”（经济）购买策略。当然，所选择的买入策略比预测单轮结果的策略范围更好。</p><p>PM非常擅长预测第2轮和第3轮的原因是，它实际上是在传达有关游戏经济状况的信息。这种准确性的迅速减少反映了这种信息的日益稀释。这可以解释为游戏的复出机制（对于连续输掉多轮比赛的球队的经济提振）。</p><p>例如，如果一支球队输掉了后面的一轮比赛，但还剩下足够多的现金余额，那么与没有机会累积这种余额的早期比赛相比，他们在接下来的一轮比赛中获胜的机会受到的影响相对较小。这种逐渐稀释反映在模型精度的下降趋势中。简而言之，前几轮的回合数越少，前一轮的获胜者作为预测因子的用处就越小。</p><h3 id="6-4后续工作考量"><a href="#6-4后续工作考量" class="headerlink" title="6.4后续工作考量"></a>6.4后续工作考量</h3><p>考虑量化的优势，使用K-Nearest Neighbor 算法，预测样本分类，CS：GO子博奕建模得到巅峰应该是一个马尔可夫链，我们的建模围绕着对一个子游戏的赢&#x2F;输结果进行建模。马尔可夫模型还将包括发生不同经济后果的可能性。马尔可夫模型的完成将允许对一支队伍赢得比赛的可能性进行更加全面和有凝聚力的预测。</p>]]></content:encoded>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/categories/%E5%A4%A7%E5%AD%A6/">大学</category>
      
      
      <category domain="https://github.com/Kleinyc/Kleinyc.github.io/tags/%E6%8A%80%E6%9C%AF%E7%AF%87/">技术篇</category>
      
      
      <comments>https://github.com/Kleinyc/Kleinyc.github.io/2022/06/06/games_theory/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
